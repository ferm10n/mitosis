this.Two=function(a){function b(){var a=document.body.getBoundingClientRect(),b=this.width=a.width,c=this.height=a.height;this.renderer.setSize(b,c,this.ratio),this.trigger(v.Events.resize,b,c)}function c(){G(c);for(var a=0;a<v.Instances.length;a++){var b=v.Instances[a];b.playing&&b.update()}}var d=this,e={_indexAmount:0,natural:{slice:Array.prototype.slice,indexOf:Array.prototype.indexOf,keys:Object.keys,bind:Function.prototype.bind,create:Object.create},identity:function(a){return a},isArguments:function(a){return"[object Arguments]"===toString.call(a)},isFunction:function(a){return"[object Function]"===toString.call(a)},isString:function(a){return"[object String]"===toString.call(a)},isNumber:function(a){return"[object Number]"===toString.call(a)},isDate:function(a){return"[object Date]"===toString.call(a)},isRegExp:function(a){return"[object RegExp]"===toString.call(a)},isError:function(a){return"[object Error]"===toString.call(a)},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a))},isNaN:function(a){return e.isNumber(a)&&a!==+a},isBoolean:function(a){return a===!0||a===!1||"[object Boolean]"===toString.call(a)},isNull:function(a){return null===a},isUndefined:function(a){return void 0===a},isEmpty:function(a){return null==a||(t&&(e.isArray(a)||e.isString(a)||e.isArguments(a))?0===a.length:0===e.keys(a).length)},isElement:function(a){return!(!a||1!==a.nodeType)},isArray:Array.isArray||function(a){return"[object Array]"===toString.call(a)},isObject:function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},toArray:function(a){return a?e.isArray(a)?p.call(a):t(a)?e.map(a,e.identity):e.values(a):[]},range:function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e},indexOf:function(a,b){if(e.natural.indexOf)return e.natural.indexOf.call(a,b);for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},has:function(a,b){return null!=a&&hasOwnProperty.call(a,b)},bind:function(a,b){var c=e.natural.bind;if(c&&a.bind===c)return c.apply(a,p.call(arguments,1));var d=p.call(arguments,2);return function(){a.apply(b,d)}},extend:function(a){for(var b=p.call(arguments,1),c=0;c<b.length;c++){var d=b[c];for(var e in d)a[e]=d[e]}return a},defaults:function(a){for(var b=p.call(arguments,1),c=0;c<b.length;c++){var d=b[c];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},keys:function(a){if(!e.isObject(a))return[];if(e.natural.keys)return e.natural.keys(a);var b=[];for(var c in a)e.has(a,c)&&b.push(c);return b},values:function(a){for(var b=e.keys(a),c=[],d=0;d<b.length;d++){var f=b[d];c.push(a[f])}return c},each:function(a,b,c){for(var d=c||this,f=!t(a)&&e.keys(a),g=(f||a).length,h=0;h<g;h++){var i=f?f[h]:h;b.call(d,a[i],i,a)}return a},map:function(a,b,c){for(var d=c||this,f=!t(a)&&e.keys(a),g=(f||a).length,h=[],i=0;i<g;i++){var j=f?f[i]:i;h[i]=b.call(d,a[j],j,a)}return h},once:function(a){var b=!1;return function(){return b?a:(b=!0,a.apply(this,arguments))}},after:function(a,b){return function(){for(;--a<1;)return b.apply(this,arguments)}},uniqueId:function(a){var b=++e._indexAmount+"";return a?a+b:b}},f=Math.sin,g=Math.cos,h=Math.atan2,i=Math.sqrt,j=(Math.round,Math.abs,Math.PI),k=j/2,l=Math.pow,m=Math.min,n=Math.max,o=0,p=e.natural.slice,q=d.performance&&d.performance.now?d.performance:Date,r=Math.pow(2,53)-1,s=function(a){return null==a?void 0:a.length},t=function(a){var b=s(a);return"number"==typeof b&&b>=0&&b<=r},u={temp:d.document?d.document.createElement("div"):{},hasEventListeners:e.isFunction(d.addEventListener),bind:function(a,b,c,d){return this.hasEventListeners?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c),u},unbind:function(a,b,c,d){return u.hasEventListeners?a.removeEventListeners(b,c,!!d):a.detachEvent("on"+b,c),u},getRequestAnimationFrame:function(){var a,b=0,f=["ms","moz","webkit","o"],g=d.requestAnimationFrame;if(!g){for(var h=0;h<f.length;h++)g=d[f[h]+"RequestAnimationFrame"]||g,a=d[f[h]+"CancelAnimationFrame"]||d[f[h]+"CancelRequestAnimationFrame"]||a;g=g||function(a,c){var e=(new Date).getTime(),f=Math.max(0,16-(e-b)),g=d.setTimeout(function(){a(e+f)},f);return b=e+f,g}}return g.init=e.once(c),g}},v=d.Two=function(a){var c=e.defaults(a||{},{fullscreen:!1,width:640,height:480,type:v.Types.svg,autostart:!1});if(e.each(c,function(a,b){"fullscreen"!==b&&"autostart"!==b&&(this[b]=a)},this),e.isElement(c.domElement)){var f=c.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+f)||(this.type=v.Types[f])}if(this.renderer=new v[this.type](this),v.Utils.setPlaying.call(this,c.autostart),this.frameCount=0,c.fullscreen){var g=e.bind(b,this);e.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),e.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),u.bind(d,"resize",g),g()}else e.isElement(c.domElement)||(this.renderer.setSize(c.width,c.height,this.ratio),this.width=c.width,this.height=c.height);this.scene=this.renderer.scene,v.Instances.push(this),G.init()};e.extend(v,{Array:d.Float32Array||Array,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.0",Identifier:"two_",Properties:{hierarchy:"hierarchy",demotion:"demotion"},Events:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order"},Commands:{move:"M",line:"L",curve:"C",close:"Z"},Resolution:8,Instances:[],noConflict:function(){return d.Two=a,this},uniqueId:function(){var a=o;return o++,a},Utils:e.extend(e,{defineProperty:function(a){var b=this,c="_"+a,d="_flag"+a.charAt(0).toUpperCase()+a.slice(1);Object.defineProperty(b,a,{enumerable:!0,get:function(){return this[c]},set:function(a){this[c]=a,this[d]=!0}})},release:function(a){e.isObject(a)&&(e.isFunction(a.unbind)&&a.unbind(),a.vertices&&(e.isFunction(a.vertices.unbind)&&a.vertices.unbind(),e.each(a.vertices,function(a){e.isFunction(a.unbind)&&a.unbind()})),a.children&&e.each(a.children,function(a){v.Utils.release(a)}))},xhr:function(a,b){var c=new XMLHttpRequest;return c.open("GET",a),c.onreadystatechange=function(){4===c.readyState&&200===c.status&&b(c.responseText)},c.send(),c},Curve:{CollinearityEpsilon:l(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:.01},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},devicePixelRatio:d.devicePixelRatio||1,getBackingStoreRatio:function(a){return a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1},getRatio:function(a){return v.Utils.devicePixelRatio/C(a)},setPlaying:function(a){return this.playing=!!a,this},getComputedMatrix:function(a,b){b=b&&b.identity()||new v.Matrix;for(var c=a,d=[];c&&c._matrix;)d.push(c._matrix),c=c.parent;return d.reverse(),e.each(d,function(a){var c=a.elements;b.multiply(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9])}),b},deltaTransformPoint:function(a,b,c){var d=b*a.a+c*a.c+0,e=b*a.b+c*a.d+0;return new v.Vector(d,e)},decomposeMatrix:function(a){var b=v.Utils.deltaTransformPoint(a,0,1),c=v.Utils.deltaTransformPoint(a,1,0),d=180/Math.PI*Math.atan2(b.y,b.x)-90,e=180/Math.PI*Math.atan2(c.y,c.x);return{translateX:a.e,translateY:a.f,scaleX:Math.sqrt(a.a*a.a+a.b*a.b),scaleY:Math.sqrt(a.c*a.c+a.d*a.d),skewX:d,skewY:e,rotation:d}},applySvgAttributes:function(a,b){var c,d,f,g,h={},i={};if(getComputedStyle){var j=getComputedStyle(a);for(c=j.length;c--;)d=j[c],void 0!==(f=j[d])&&(i[d]=f)}for(c=a.attributes.length;c--;)g=a.attributes[c],h[g.nodeName]=g.value;e.isUndefined(i.opacity)||(i["stroke-opacity"]=i.opacity,i["fill-opacity"]=i.opacity),e.extend(i,h),i.visible=!(e.isUndefined(i.display)&&"none"===i.display)||e.isUndefined(i.visibility)&&"hidden"===i.visibility;for(d in i)switch(f=i[d],d){case"transform":if("none"===f)break;if(null===a.getCTM())break;var k=v.Utils.decomposeMatrix(a.getCTM());b.translation.set(k.translateX,k.translateY),b.rotation=k.rotation,b.scale=k.scaleX;var l=parseFloat((i.x+"").replace("px")),m=parseFloat((i.y+"").replace("px"));l&&(b.translation.x=l),m&&(b.translation.y=m);break;case"visible":b.visible=f;break;case"stroke-linecap":b.cap=f;break;case"stroke-linejoin":b.join=f;break;case"stroke-miterlimit":b.miter=f;break;case"stroke-width":b.linewidth=parseFloat(f);break;case"stroke-opacity":case"fill-opacity":case"opacity":b.opacity=parseFloat(f);break;case"fill":case"stroke":/url\(\#.*\)/i.test(f)?b[d]=this.getById(f.replace(/url\(\#(.*)\)/i,"$1")):b[d]="none"===f?"transparent":f;break;case"id":b.id=f;break;case"class":b.classList=f.split(" ")}return b},read:{svg:function(){return v.Utils.read.g.apply(this,arguments)},g:function(a){var b=new v.Group;v.Utils.applySvgAttributes.call(this,a,b);for(var c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c],f=e.nodeName;if(!f)return;var g=f.replace(/svg\:/gi,"").toLowerCase();if(g in v.Utils.read){var h=v.Utils.read[g].call(b,e);b.add(h)}}return b},polygon:function(a,b){var c=a.getAttribute("points"),d=[];c.replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(a,b,c){d.push(new v.Anchor(parseFloat(b),parseFloat(c)))});var e=new v.Path(d,!b).noStroke();return e.fill="black",v.Utils.applySvgAttributes.call(this,a,e)},polyline:function(a){return v.Utils.read.polygon.call(this,a,!0)},path:function(a){var b,c,d=a.getAttribute("d"),f=new v.Anchor,g=!1,h=!1,i=d.match(/[a-df-z][^a-df-z]*/gi),j=i.length-1;e.each(i.slice(0),function(a,b){var c,d=a[0],e=d.toLowerCase(),f=a.slice(1).trim().split(/[\s,]+|(?=\s?[+\-])/),g=[];switch(b<=0&&(i=[]),e){case"h":case"v":f.length>1&&(c=1);break;case"m":case"l":case"t":f.length>2&&(c=2);break;case"s":case"q":f.length>4&&(c=4);break;case"c":f.length>6&&(c=6);break;case"a":}if(c){for(var h=0,j=f.length,k=0;h<j;h+=c){var l=d;if(k>0)switch(d){case"m":l="l";break;case"M":l="L"}g.push([l].concat(f.slice(h,h+c)).join(" ")),k++}i=Array.prototype.concat.apply(i,g)}else i.push(a)});var k=[];if(e.each(i,function(a,d){var i,m,n,o=a[0],p=o.toLowerCase();c=a.slice(1).trim(),c=c.replace(/(-?\d+(?:\.\d*)?)[eE]([+\-]?\d+)/g,function(a,b,c){return parseFloat(b)*l(10,c)}),c=c.split(/[\s,]+|(?=\s?[+\-])/),h=o===p;var q,r,s,t,u,w,x,y,z;switch(p){case"z":d>=j?g=!0:(m=f.x,n=f.y,i=new v.Anchor(m,n,void 0,void 0,void 0,void 0,v.Commands.close));break;case"m":case"l":m=parseFloat(c[0]),n=parseFloat(c[1]),i=new v.Anchor(m,n,void 0,void 0,void 0,void 0,"m"===p?v.Commands.move:v.Commands.line),h&&i.addSelf(f),f=i;break;case"h":case"v":var A="h"===p?"x":"y",C="x"===A?"y":"x";i=new v.Anchor(void 0,void 0,void 0,void 0,void 0,void 0,v.Commands.line),i[A]=parseFloat(c[0]),i[C]=f[C],h&&(i[A]+=f[A]),f=i;break;case"c":case"s":q=f.x,r=f.y,b||(b=new v.Vector),"c"===p?(s=parseFloat(c[0]),t=parseFloat(c[1]),u=parseFloat(c[2]),w=parseFloat(c[3]),x=parseFloat(c[4]),y=parseFloat(c[5])):(z=F(f,b,h),s=z.x,t=z.y,u=parseFloat(c[0]),w=parseFloat(c[1]),x=parseFloat(c[2]),y=parseFloat(c[3])),h&&(s+=q,t+=r,u+=q,w+=r,x+=q,y+=r),e.isObject(f.controls)||v.Anchor.AppendCurveProperties(f),f.controls.right.set(s-f.x,t-f.y),i=new v.Anchor(x,y,u-x,w-y,void 0,void 0,v.Commands.curve),f=i,b=i.controls.left;break;case"t":case"q":q=f.x,r=f.y,b||(b=new v.Vector),b.isZero()?(s=q,t=r):(s=b.x,r=b.y),"q"===p?(u=parseFloat(c[0]),w=parseFloat(c[1]),x=parseFloat(c[1]),y=parseFloat(c[2])):(z=F(f,b,h),u=z.x,w=z.y,x=parseFloat(c[0]),y=parseFloat(c[1])),h&&(s+=q,t+=r,u+=q,w+=r,x+=q,y+=r),e.isObject(f.controls)||v.Anchor.AppendCurveProperties(f),f.controls.right.set(s-f.x,t-f.y),i=new v.Anchor(x,y,u-x,w-y,void 0,void 0,v.Commands.curve),f=i,b=i.controls.left;break;case"a":q=f.x,r=f.y;var D=parseFloat(c[0]),E=parseFloat(c[1]),G=parseFloat(c[2])*Math.PI/180,H=parseFloat(c[3]),I=parseFloat(c[4]);x=parseFloat(c[5]),y=parseFloat(c[6]),h&&(x+=q,y+=r);var J=(x-q)/2,K=(y-r)/2,L=J*Math.cos(G)+K*Math.sin(G),M=-J*Math.sin(G)+K*Math.cos(G),N=D*D,O=E*E,P=L*L,Q=M*M,R=P/N+Q/O;R>1&&(D*=Math.sqrt(R),E*=Math.sqrt(R));var S=Math.sqrt((N*O-N*Q-O*P)/(N*Q+O*P));e.isNaN(S)?S=0:H!=I&&S>0&&(S*=-1);var T=S*D*M/E,U=-S*E*L/D,V=T*Math.cos(G)-U*Math.sin(G)+(q+x)/2,W=T*Math.sin(G)+U*Math.cos(G)+(r+y)/2,X=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},Y=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(X(a)*X(b))},A=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(Y(a,b))},Z=A([1,0],[(L-T)/D,(M-U)/E]),$=[(L-T)/D,(M-U)/E],_=[(-L-T)/D,(-M-U)/E],aa=A($,_);Y($,_)<=-1&&(aa=Math.PI),Y($,_)>=1&&(aa=0),H&&(aa=B(aa,2*Math.PI)),I&&aa>0&&(aa-=2*Math.PI);var ba=v.Resolution,ca=(new v.Matrix).translate(V,W).rotate(G);i=e.map(e.range(ba),function(a){var b=1-a/(ba-1),c=b*aa+Z,d=D*Math.cos(c),e=E*Math.sin(c),f=ca.multiply(d,e,1);return new v.Anchor(f.x,f.y,!1,!1,!1,!1,v.Commands.line)}),i.push(new v.Anchor(x,y,!1,!1,!1,!1,v.Commands.line)),f=i[i.length-1],b=f.controls.left}i&&(e.isArray(i)?k=k.concat(i):k.push(i))}),!(k.length<=1)){var m=new v.Path(k,g,void 0,!0).noStroke();return m.fill="black",v.Utils.applySvgAttributes.call(this,a,m)}},circle:function(a){var b=parseFloat(a.getAttribute("cx")),c=parseFloat(a.getAttribute("cy")),d=parseFloat(a.getAttribute("r")),e=new v.Circle(b,c,d).noStroke();return e.fill="black",v.Utils.applySvgAttributes.call(this,a,e)},ellipse:function(a){var b=parseFloat(a.getAttribute("cx")),c=parseFloat(a.getAttribute("cy")),d=parseFloat(a.getAttribute("rx")),e=parseFloat(a.getAttribute("ry")),f=new v.Ellipse(b,c,d,e).noStroke();return f.fill="black",v.Utils.applySvgAttributes.call(this,a,f)},rect:function(a){var b=parseFloat(a.getAttribute("x"))||0,c=parseFloat(a.getAttribute("y"))||0,d=parseFloat(a.getAttribute("width")),e=parseFloat(a.getAttribute("height")),f=d/2,g=e/2,h=new v.Rectangle(b+f,c+g,d,e).noStroke();return h.fill="black",v.Utils.applySvgAttributes.call(this,a,h)},line:function(a){var b=parseFloat(a.getAttribute("x1")),c=parseFloat(a.getAttribute("y1")),d=parseFloat(a.getAttribute("x2")),e=parseFloat(a.getAttribute("y2")),f=new v.Line(b,c,d,e).noFill();return v.Utils.applySvgAttributes.call(this,a,f)},lineargradient:function(a){for(var b=parseFloat(a.getAttribute("x1")),c=parseFloat(a.getAttribute("y1")),d=parseFloat(a.getAttribute("x2")),f=parseFloat(a.getAttribute("y2")),g=(d+b)/2,h=(f+c)/2,i=[],j=0;j<a.children.length;j++){var k=a.children[j],l=parseFloat(k.getAttribute("offset")),m=k.getAttribute("stop-color"),n=k.getAttribute("stop-opacity"),o=k.getAttribute("style");if(e.isNull(m)){var p=o.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/);m=p&&p.length>1?p[1]:void 0}if(e.isNull(n)){var p=o.match(/stop\-opacity\:\s?([0-9\.\-]*)/);n=p&&p.length>1?parseFloat(p[1]):1}i.push(new v.Gradient.Stop(l,m,n))}var q=new v.LinearGradient(b-g,c-h,d-g,f-h,i);return v.Utils.applySvgAttributes.call(this,a,q)},radialgradient:function(a){var b=parseFloat(a.getAttribute("cx"))||0,c=parseFloat(a.getAttribute("cy"))||0,d=parseFloat(a.getAttribute("r")),f=parseFloat(a.getAttribute("fx")),g=parseFloat(a.getAttribute("fy"));e.isNaN(f)&&(f=b),e.isNaN(g)&&(g=c);for(var h=Math.abs(b+f)/2,i=Math.abs(c+g)/2,j=[],k=0;k<a.children.length;k++){var l=a.children[k],m=parseFloat(l.getAttribute("offset")),n=l.getAttribute("stop-color"),o=l.getAttribute("stop-opacity"),p=l.getAttribute("style");if(e.isNull(n)){var q=p.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/);n=q&&q.length>1?q[1]:void 0}if(e.isNull(o)){var q=p.match(/stop\-opacity\:\s?([0-9\.\-]*)/);o=q&&q.length>1?parseFloat(q[1]):1}j.push(new v.Gradient.Stop(m,n,o))}var r=new v.RadialGradient(b-h,c-i,d,j,f-h,g-i);return v.Utils.applySvgAttributes.call(this,a,r)}},subdivide:function(a,b,c,d,f,g,h,i,j){j=j||v.Utils.Curve.RecursionLimit;var k=j+1;return a===h&&b===i?[new v.Anchor(h,i)]:e.map(e.range(0,k),function(e){var j=e/k,l=D(j,a,c,f,h),m=D(j,b,d,g,i);return new v.Anchor(l,m)})},getPointOnCubicBezier:function(a,b,c,d,e){var f=1-a;return f*f*f*b+3*f*f*a*c+3*f*a*a*d+a*a*a*e},getCurveLength:function(a,b,c,d,e,f,g,h,j){if(a===c&&b===d&&e===g&&f===h){var k=g-a,l=h-b;return i(k*k+l*l)}var m=9*(c-e)+3*(g-a),n=6*(a+e)-12*c,o=3*(c-a),p=9*(d-f)+3*(h-b),q=6*(b+f)-12*d,r=3*(d-b);return E(function(a){var b=(m*a+n)*a+o,c=(p*a+q)*a+r;return i(b*b+c*c)},0,1,j||v.Utils.Curve.RecursionLimit)},integrate:function(a,b,c,d){for(var e=v.Utils.Curve.abscissas[d-2],f=v.Utils.Curve.weights[d-2],g=.5*(c-b),h=g+b,i=0,j=d+1>>1,k=1&d?f[i++]*a(h):0;i<j;){var l=g*e[i];k+=f[i++]*(a(h+l)+a(h-l))}return g*k},getCurveFromPoints:function(a,b){for(var c=a.length,d=c-1,f=0;f<c;f++){var g=a[f];e.isObject(g.controls)||v.Anchor.AppendCurveProperties(g);var h=b?B(f-1,c):n(f-1,0),i=b?B(f+1,c):m(f+1,d),j=a[h],k=g;A(j,k,a[i]),k._command=0===f?v.Commands.move:v.Commands.curve,k.controls.left.x=e.isNumber(k.controls.left.x)?k.controls.left.x:k.x,k.controls.left.y=e.isNumber(k.controls.left.y)?k.controls.left.y:k.y,k.controls.right.x=e.isNumber(k.controls.right.x)?k.controls.right.x:k.x,k.controls.right.y=e.isNumber(k.controls.right.y)?k.controls.right.y:k.y}},getControlPoints:function(a,b,c){var d=z(a,b),h=z(c,b),i=x(a,b),l=x(c,b),m=(d+h)/2;return b.u=e.isObject(b.controls.left)?b.controls.left:new v.Vector(0,0),b.v=e.isObject(b.controls.right)?b.controls.right:new v.Vector(0,0),i<1e-4||l<1e-4?(b._relative||(b.controls.left.copy(b),b.controls.right.copy(b)),b):(i*=.33,l*=.33,h<d?m+=k:m-=k,b.controls.left.x=g(m)*i,b.controls.left.y=f(m)*i,m-=j,b.controls.right.x=g(m)*l,b.controls.right.y=f(m)*l,b._relative||(b.controls.left.x+=b.x,b.controls.left.y+=b.y,b.controls.right.x+=b.x,b.controls.right.y+=b.y),b)},getReflection:function(a,b,c){return new v.Vector(2*a.x-(b.x+a.x)-(c?a.x:0),2*a.y-(b.y+a.y)-(c?a.y:0))},getAnchorsFromArcData:function(a,b,c,d,f,g,h){var i=((new v.Matrix).translate(a.x,a.y).rotate(b),v.Resolution);return e.map(e.range(i),function(a){var b=(a+1)/i;h&&(b=1-b);var e=b*g+f,j=c*Math.cos(e),k=d*Math.sin(e),l=new v.Anchor(j,k);return v.Anchor.AppendCurveProperties(l),l.command=v.Commands.line,l})},ratioBetween:function(a,b){return(a.x*b.x+a.y*b.y)/(a.length()*b.length())},angleBetween:function(a,b){var c,d;return arguments.length>=4?(c=arguments[0]-arguments[2],d=arguments[1]-arguments[3],h(d,c)):(c=a.x-b.x,d=a.y-b.y,h(d,c))},distanceBetweenSquared:function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d},distanceBetween:function(a,b){return i(y(a,b))},toFixed:function(a){return Math.floor(1e3*a)/1e3},mod:function(a,b){for(;a<0;)a+=b;return a%b},Collection:function(){Array.call(this),arguments.length>1?Array.prototype.push.apply(this,arguments):arguments[0]&&Array.isArray(arguments[0])&&Array.prototype.push.apply(this,arguments[0])},Error:function(a){this.name="two.js",this.message=a},Events:{on:function(a,b){return this._events||(this._events={}),(this._events[a]||(this._events[a]=[])).push(b),this},off:function(a,b){if(!this._events)return this;if(!a&&!b)return this._events={},this;for(var c=a?[a]:e.keys(this._events),d=0,f=c.length;d<f;d++){var a=c[d],g=this._events[a];if(g){var h=[];if(b)for(var i=0,j=g.length;i<j;i++){var k=g[i];b&&b!==k&&h.push(k)}this._events[a]=h}}return this},trigger:function(a){if(!this._events)return this;var b=p.call(arguments,1),c=this._events[a];return c&&w(this,c,b),this},listenTo:function(a,b,c){var d=this;return a&&a.on(b,function(){c.apply(d,arguments)}),this},stopListening:function(a,b,c){return a.off(b,c),this}}})}),v.Utils.Events.bind=v.Utils.Events.on,v.Utils.Events.unbind=v.Utils.Events.off;var w=function(a,b,c){var d;switch(c.length){case 0:d=function(d){b[d].call(a,c[0])};break;case 1:d=function(d){b[d].call(a,c[0],c[1])};break;case 2:d=function(d){b[d].call(a,c[0],c[1],c[2])};break;case 3:d=function(d){b[d].call(a,c[0],c[1],c[2],c[3])};break;default:d=function(d){b[d].apply(a,c)}}for(var e=0;e<b.length;e++)d(e)};v.Utils.Error.prototype=new Error,v.Utils.Error.prototype.constructor=v.Utils.Error,v.Utils.Collection.prototype=new Array,v.Utils.Collection.prototype.constructor=v.Utils.Collection,e.extend(v.Utils.Collection.prototype,v.Utils.Events,{pop:function(){var a=Array.prototype.pop.apply(this,arguments);return this.trigger(v.Events.remove,[a]),a},shift:function(){var a=Array.prototype.shift.apply(this,arguments);return this.trigger(v.Events.remove,[a]),a},push:function(){var a=Array.prototype.push.apply(this,arguments);return this.trigger(v.Events.insert,arguments),a},unshift:function(){var a=Array.prototype.unshift.apply(this,arguments);return this.trigger(v.Events.insert,arguments),a},splice:function(){var a,b=Array.prototype.splice.apply(this,arguments);return this.trigger(v.Events.remove,b),arguments.length>2&&(a=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(v.Events.insert,a),this.trigger(v.Events.order)),b},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(v.Events.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(v.Events.order),this}});var x=v.Utils.distanceBetween,y=(v.Utils.getAnchorsFromArcData,v.Utils.distanceBetweenSquared),z=(v.Utils.ratioBetween,v.Utils.angleBetween),A=v.Utils.getControlPoints,B=(v.Utils.getCurveFromPoints,v.Utils.solveSegmentIntersection,v.Utils.decoupleShapes,v.Utils.mod),C=v.Utils.getBackingStoreRatio,D=v.Utils.getPointOnCubicBezier,E=(v.Utils.getCurveLength,v.Utils.integrate),F=v.Utils.getReflection;e.extend(v.prototype,v.Utils.Events,{appendTo:function(a){return a.appendChild(this.renderer.domElement),this},play:function(){return v.Utils.setPlaying.call(this,!0),this.trigger(v.Events.play)},pause:function(){return this.playing=!1,this.trigger(v.Events.pause)},update:function(){var a=!!this._lastFrame,b=q.now();this.frameCount++,a&&(this.timeDelta=parseFloat((b-this._lastFrame).toFixed(3))),this._lastFrame=b;var c=this.width,d=this.height,e=this.renderer;return c===e.width&&d===e.height||e.setSize(c,d,this.ratio),this.trigger(v.Events.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(v.Events.render,this.frameCount)},add:function(a){var b=a;return b instanceof Array||(b=e.toArray(arguments)),this.scene.add(b),this},remove:function(a){var b=a;return b instanceof Array||(b=e.toArray(arguments)),this.scene.remove(b),this},clear:function(){return this.scene.remove(e.toArray(this.scene.children)),this},makeLine:function(a,b,c,d){var e=new v.Line(a,b,c,d);return this.scene.add(e),e},makeRectangle:function(a,b,c,d){var e=new v.Rectangle(a,b,c,d);return this.scene.add(e),e},makeRoundedRectangle:function(a,b,c,d,e){var f=new v.RoundedRectangle(a,b,c,d,e);return this.scene.add(f),f},makeCircle:function(a,b,c){var d=new v.Circle(a,b,c);return this.scene.add(d),d},makeEllipse:function(a,b,c,d){var e=new v.Ellipse(a,b,c,d);return this.scene.add(e),e},makeStar:function(a,b,c,d,e){var f=new v.Star(a,b,c,d,e);return this.scene.add(f),f},makeCurve:function(a){var b=arguments.length,c=a;if(!e.isArray(a)){c=[];for(var d=0;d<b;d+=2){var f=arguments[d];if(!e.isNumber(f))break;var g=arguments[d+1];c.push(new v.Anchor(f,g))}}var h=arguments[b-1],i=new v.Path(c,!(e.isBoolean(h)?h:void 0),!0),j=i.getBoundingClientRect();return i.center().translation.set(j.left+j.width/2,j.top+j.height/2),this.scene.add(i),i},makePolygon:function(a,b,c,d){var e=new v.Polygon(a,b,c,d);return this.scene.add(e),e},makeArcSegment:function(a,b,c,d,e,f,g){var h=new v.ArcSegment(a,b,c,d,e,f,g);return this.scene.add(h),h},makePath:function(a){var b=arguments.length,c=a;if(!e.isArray(a)){c=[];for(var d=0;d<b;d+=2){var f=arguments[d];if(!e.isNumber(f))break;var g=arguments[d+1];c.push(new v.Anchor(f,g))}}var h=arguments[b-1],i=new v.Path(c,!(e.isBoolean(h)?h:void 0)),j=i.getBoundingClientRect();return i.center().translation.set(j.left+j.width/2,j.top+j.height/2),this.scene.add(i),i},makeText:function(a,b,c,d){var e=new v.Text(a,b,c,d);return this.add(e),e},makeLinearGradient:function(a,b,c,d){var e=p.call(arguments,4),f=new v.LinearGradient(a,b,c,d,e);return this.add(f),f},makeRadialGradient:function(a,b,c){var d=p.call(arguments,3),e=new v.RadialGradient(a,b,c,d);return this.add(e),e},makeGroup:function(a){var b=a;b instanceof Array||(b=e.toArray(arguments));var c=new v.Group;return this.scene.add(c),c.add(b),c},interpret:function(a,b){var c=a.tagName.toLowerCase();if(!(c in v.Utils.read))return null;var d=v.Utils.read[c].call(this,a);return b&&d instanceof v.Group?this.add(d.children):this.add(d),d},load:function(a,b){var c,d,f=[];if(/.*\.svg/gi.test(a))return v.Utils.xhr(a,e.bind(function(a){for(u.temp.innerHTML=a,d=0;d<u.temp.children.length;d++)c=u.temp.children[d],f.push(this.interpret(c));b(f.length<=1?f[0]:f,u.temp.children.length<=1?u.temp.children[0]:u.temp.children)},this)),this;for(u.temp.innerHTML=a,d=0;d<u.temp.children.length;d++)c=u.temp.children[d],f.push(this.interpret(c));return b(f.length<=1?f[0]:f,u.temp.children.length<=1?u.temp.children[0]:u.temp.children),this}});var G=u.getRequestAnimationFrame();return"function"==typeof define&&define.amd?define("two",[],function(){return v}):"undefined"!=typeof module&&module.exports&&(module.exports=v),v}(this.Two),function(a){var b=a.Utils,c=a.Vector=function(a,b){this.x=a||0,this.y=b||0};b.extend(c,{zero:new a.Vector}),b.extend(c.prototype,a.Utils.Events,{set:function(a,b){return console.log(arguments),this.x=a,this.y=b,this},copy:function(a){return this.x=a.x,this.y=a.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new c(this.x,this.y)},add:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this},addSelf:function(a){return this.x+=a.x,this.y+=a.y,this},sub:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},subSelf:function(a){return this.x-=a.x,this.y-=a.y,this},multiplySelf:function(a){return this.x*=a.x,this.y*=a.y,this},multiplyScalar:function(a){return this.x*=a,this.y*=a,this},divideScalar:function(a){return a?(this.x/=a,this.y/=a):this.set(0,0),this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y},lengthSquared:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSquared())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;return b*b+c*c},setLength:function(a){return this.normalize().multiplyScalar(a)},equals:function(a,b){return b=void 0===b?1e-4:b,this.distanceTo(a)<b},lerp:function(a,b){var c=(a.x-this.x)*b+this.x,d=(a.y-this.y)*b+this.y;return this.set(c,d)},isZero:function(a){return a=void 0===a?1e-4:a,this.length()<a},toString:function(){return this.x+","+this.y},toObject:function(){return{x:this.x,y:this.y}}});var d={set:function(b,c){return this._x=b,this._y=c,this.trigger(a.Events.change)},copy:function(b){return this._x=b.x,this._y=b.y,this.trigger(a.Events.change)},clear:function(){return this._x=0,this._y=0,this.trigger(a.Events.change)},clone:function(){return new c(this._x,this._y)},add:function(b,c){return this._x=b.x+c.x,this._y=b.y+c.y,this.trigger(a.Events.change)},addSelf:function(b){return this._x+=b.x,this._y+=b.y,this.trigger(a.Events.change)},sub:function(b,c){return this._x=b.x-c.x,this._y=b.y-c.y,this.trigger(a.Events.change)},subSelf:function(b){return this._x-=b.x,this._y-=b.y,this.trigger(a.Events.change)},multiplySelf:function(b){return this._x*=b.x,this._y*=b.y,this.trigger(a.Events.change)},multiplyScalar:function(b){return this._x*=b,this._y*=b,this.trigger(a.Events.change)},divideScalar:function(b){return b?(this._x/=b,this._y/=b,this.trigger(a.Events.change)):this.clear()},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this._x*a.x+this._y*a.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},length:function(){return Math.sqrt(this.lengthSquared())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this._x-a.x,c=this._y-a.y;return b*b+c*c},setLength:function(a){return this.normalize().multiplyScalar(a)},equals:function(a,b){return b=void 0===b?1e-4:b,this.distanceTo(a)<b},lerp:function(a,b){var c=(a.x-this._x)*b+this._x,d=(a.y-this._y)*b+this._y;return this.set(c,d)},isZero:function(a){return a=void 0===a?1e-4:a,this.length()<a},toString:function(){return this._x+","+this._y},toObject:function(){return{x:this._x,y:this._y}}},e={enumerable:!0,get:function(){return this._x},set:function(b){this._x=b,this.trigger(a.Events.change,"x")}},f={enumerable:!0,get:function(){return this._y},set:function(b){this._y=b,this.trigger(a.Events.change,"y")}};a.Vector.prototype.bind=a.Vector.prototype.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",e),Object.defineProperty(this,"y",f),b.extend(this,d),this._bound=!0),a.Utils.Events.bind.apply(this,arguments),this}}(this.Two),function(a){var b=a.Commands,c=a.Utils,d=a.Anchor=function(e,f,g,h,i,j,k){if(a.Vector.call(this,e,f),this._broadcast=c.bind(function(){this.trigger(a.Events.change)},this),this._command=k||b.move,this._relative=!0,!k)return this;d.AppendCurveProperties(this),c.isNumber(g)&&(this.controls.left.x=g),c.isNumber(h)&&(this.controls.left.y=h),c.isNumber(i)&&(this.controls.right.x=i),c.isNumber(j)&&(this.controls.right.y=j)};c.extend(d,{AppendCurveProperties:function(b){b.controls={left:new a.Vector(0,0),right:new a.Vector(0,0)}}});var e={listen:function(){return c.isObject(this.controls)||d.AppendCurveProperties(this),this.controls.left.bind(a.Events.change,this._broadcast),this.controls.right.bind(a.Events.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(a.Events.change,this._broadcast),this.controls.right.unbind(a.Events.change,this._broadcast),this},clone:function(){var b=this.controls,c=new a.Anchor(this.x,this.y,b&&b.left.x,b&&b.left.y,b&&b.right.x,b&&b.right.y,this.command);return c.relative=this._relative,c},toObject:function(){var a={x:this.x,y:this.y};return this._command&&(a.command=this._command),this._relative&&(a.relative=this._relative),this.controls&&(a.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),a},toString:function(){return[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y].join(", ")}};Object.defineProperty(d.prototype,"command",{enumerable:!0,get:function(){return this._command},set:function(e){return this._command=e,this._command!==b.curve||c.isObject(this.controls)||d.AppendCurveProperties(this),this.trigger(a.Events.change)}}),Object.defineProperty(d.prototype,"relative",{enumerable:!0,get:function(){return this._relative},set:function(b){return this._relative==b?this:(this._relative=!!b,this.trigger(a.Events.change))}}),c.extend(d.prototype,a.Vector.prototype,e),a.Anchor.prototype.bind=a.Anchor.prototype.on=function(){a.Vector.prototype.bind.apply(this,arguments),c.extend(this,e)},a.Anchor.prototype.unbind=a.Anchor.prototype.off=function(){a.Vector.prototype.unbind.apply(this,arguments),c.extend(this,e)}}(this.Two),function(a){var b=Math.cos,c=Math.sin,d=Math.tan,e=a.Utils,f=a.Matrix=function(b,c,d,f,g,h){this.elements=new a.Array(9);var i=b;e.isArray(i)||(i=e.toArray(arguments)),this.identity().set(i)};e.extend(f,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(b,c,d){if(c.length<=3){var e,f,g,h=b,i=c[0]||0,j=c[1]||0,k=c[2]||0;return e=h[0]*i+h[1]*j+h[2]*k,f=h[3]*i+h[4]*j+h[5]*k,g=h[6]*i+h[7]*j+h[8]*k,{x:e,y:f,z:g}}var l=b[0],m=b[1],n=b[2],o=b[3],p=b[4],q=b[5],r=b[6],s=b[7],t=b[8],u=c[0],v=c[1],w=c[2],x=c[3],y=c[4],z=c[5],A=c[6],B=c[7],C=c[8];return d=d||new a.Array(9),d[0]=l*u+m*x+n*A,d[1]=l*v+m*y+n*B,d[2]=l*w+m*z+n*C,d[3]=o*u+p*x+q*A,d[4]=o*v+p*y+q*B,d[5]=o*w+p*z+q*C,d[6]=r*u+s*x+t*A,d[7]=r*v+s*y+t*B,d[8]=r*w+s*z+t*C,d}}),e.extend(f.prototype,a.Utils.Events,{set:function(b){var c=b;return e.isArray(c)||(c=e.toArray(arguments)),e.extend(this.elements,c),this.trigger(a.Events.change)},identity:function(){return this.set(f.Identity),this},multiply:function(b,c,d,f,g,h,i,j,k){var l=arguments,m=l.length;if(m<=1)return e.each(this.elements,function(a,c){this.elements[c]=a*b},this),this.trigger(a.Events.change);if(m<=3){var n,o,p;return b=b||0,c=c||0,d=d||0,g=this.elements,n=g[0]*b+g[1]*c+g[2]*d,o=g[3]*b+g[4]*c+g[5]*d,p=g[6]*b+g[7]*c+g[8]*d,{x:n,y:o,z:p}}var q=this.elements,r=l,s=q[0],t=q[1],u=q[2],v=q[3],w=q[4],x=q[5],y=q[6],z=q[7],A=q[8],B=r[0],C=r[1],D=r[2],E=r[3],F=r[4],G=r[5],H=r[6],I=r[7],J=r[8];return this.elements[0]=s*B+t*E+u*H,this.elements[1]=s*C+t*F+u*I,this.elements[2]=s*D+t*G+u*J,this.elements[3]=v*B+w*E+x*H,this.elements[4]=v*C+w*F+x*I,this.elements[5]=v*D+w*G+x*J,this.elements[6]=y*B+z*E+A*H,this.elements[7]=y*C+z*F+A*I,this.elements[8]=y*D+z*G+A*J,this.trigger(a.Events.change)},inverse:function(b){var c=this.elements;b=b||new a.Matrix;var d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],m=l*h-i*k,n=-l*g+i*j,o=k*g-h*j,p=d*m+e*n+f*o;return p?(p=1/p,b.elements[0]=m*p,b.elements[1]=(-l*e+f*k)*p,b.elements[2]=(i*e-f*h)*p,b.elements[3]=n*p,b.elements[4]=(l*d-f*j)*p,b.elements[5]=(-i*d+f*g)*p,b.elements[6]=o*p,b.elements[7]=(-k*d+e*j)*p,b.elements[8]=(h*d-e*g)*p,b):null},scale:function(a,b){return arguments.length<=1&&(b=a),this.multiply(a,0,0,0,b,0,0,0,1)},rotate:function(a){var d=b(a),e=c(a);return this.multiply(d,-e,0,e,d,0,0,0,1)},translate:function(a,b){return this.multiply(1,0,a,0,1,b,0,0,1)},skewX:function(a){var b=d(a);return this.multiply(1,b,0,0,1,0,0,0,1)},skewY:function(a){var b=d(a);return this.multiply(1,0,0,b,1,0,0,0,1)},toString:function(a){var b=[];return this.toArray(a,b),b.join(" ")},toArray:function(a,b){var c=this.elements,d=!!b,e=parseFloat(c[0].toFixed(3)),f=parseFloat(c[1].toFixed(3)),g=parseFloat(c[2].toFixed(3)),h=parseFloat(c[3].toFixed(3)),i=parseFloat(c[4].toFixed(3)),j=parseFloat(c[5].toFixed(3));if(a){var k=parseFloat(c[6].toFixed(3)),l=parseFloat(c[7].toFixed(3)),m=parseFloat(c[8].toFixed(3));return d?(b[0]=e,b[1]=h,b[2]=k,b[3]=f,b[4]=i,b[5]=l,b[6]=g,b[7]=j,void(b[8]=m)):[e,h,k,f,i,l,g,j,m]}return d?(b[0]=e,b[1]=h,b[2]=f,b[3]=i,b[4]=g,void(b[5]=j)):[e,h,f,i,g,j]},clone:function(){var b,c,d,e,f,g,h,i,j;return b=this.elements[0],c=this.elements[1],d=this.elements[2],e=this.elements[3],f=this.elements[4],g=this.elements[5],h=this.elements[6],i=this.elements[7],j=this.elements[8],new a.Matrix(b,c,d,e,f,g,h,i,j)}})}(this.Two),function(a){var b=a.Utils.mod,c=a.Utils.toFixed,d=a.Utils.getRatio,e=a.Utils,f=function(a){return 1==a[0]&&0==a[3]&&0==a[1]&&1==a[4]&&0==a[2]&&0==a[5]},g={isHidden:/(none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(a){return a.tagName="canvas",a.nodeType=1,a},group:{renderChild:function(a){g[a._renderer.type].render.call(a,this.ctx,!0,this.clip)},render:function(a){this._update();var b=this._matrix.elements,c=this.parent;this._renderer.opacity=this._opacity*(c&&c._renderer?c._renderer.opacity:1);var d=f(b),e=this._mask;this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=a,d||(a.save(),a.transform(b[0],b[3],b[1],b[4],b[2],b[5])),e&&g[e._renderer.type].render.call(e,a,!0);for(var h=0;h<this.children.length;h++){var i=this.children[h];g[i._renderer.type].render.call(i,a)}return d||a.restore(),this.flagReset()}},path:{render:function(d,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N;if(this._update(),j=this._matrix.elements,k=this._stroke,l=this._linewidth,m=this._fill,n=this._opacity*this.parent._renderer.opacity,o=this._visible,p=this._cap,q=this._join,r=this._miter,s=this._closed,t=this._vertices,u=t.length,v=u-1,N=f(j),M=this._clip,!h&&(!o||M))return this;N||(d.save(),d.transform(j[0],j[3],j[1],j[4],j[2],j[5])),m&&(e.isString(m)?d.fillStyle=m:(g[m._renderer.type].render.call(m,d),d.fillStyle=m._renderer.gradient)),k&&(e.isString(k)?d.strokeStyle=k:(g[k._renderer.type].render.call(k,d),d.strokeStyle=k._renderer.gradient)),l&&(d.lineWidth=l),r&&(d.miterLimit=r),q&&(d.lineJoin=q),p&&(d.lineCap=p),e.isNumber(n)&&(d.globalAlpha=n),d.beginPath();for(var O=0;O<t.length;O++)switch(z=t[O],K=c(z._x),L=c(z._y),z._command){case a.Commands.close:d.closePath();break;case a.Commands.curve:x=s?b(O-1,u):Math.max(O-1,0),w=s?b(O+1,u):Math.min(O+1,v),y=t[x],A=t[w],G=y.controls&&y.controls.right||a.Vector.zero,H=z.controls&&z.controls.left||a.Vector.zero,y._relative?(E=G.x+c(y._x),F=G.y+c(y._y)):(E=c(G.x),F=c(G.y)),z._relative?(C=H.x+c(z._x),D=H.y+c(z._y)):(C=c(H.x),D=c(H.y)),d.bezierCurveTo(E,F,C,D,K,L),O>=v&&s&&(A=B,I=z.controls&&z.controls.right||a.Vector.zero,J=A.controls&&A.controls.left||a.Vector.zero,z._relative?(E=I.x+c(z._x),F=I.y+c(z._y)):(E=c(I.x),F=c(I.y)),A._relative?(C=J.x+c(A._x),D=J.y+c(A._y)):(C=c(J.x),D=c(J.y)),K=c(A._x),L=c(A._y),d.bezierCurveTo(E,F,C,D,K,L));break;case a.Commands.line:d.lineTo(K,L);break;case a.Commands.move:B=z,d.moveTo(K,L)}return s&&d.closePath(),M||i||(g.isHidden.test(m)||d.fill(),g.isHidden.test(k)||d.stroke()),N||d.restore(),M&&!i&&d.clip(),this.flagReset()}},"linear-gradient":{render:function(a){if(this._update(),!this._renderer.gradient||this._flagEndPoints||this._flagStops){this._renderer.gradient=a.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var b=0;b<this.stops.length;b++){var c=this.stops[b];this._renderer.gradient.addColorStop(c._offset,c._color)}}return this.flagReset()}},text:{render:function(a,b,c){this._update();var d=this._matrix.elements,h=this._stroke,i=this._linewidth,j=this._fill,k=this._opacity*this.parent._renderer.opacity,l=this._visible,m=f(d),n=this._clip;return b||l&&!n?(m||(a.save(),a.transform(d[0],d[3],d[1],d[4],d[2],d[5])),a.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" "),a.textAlign=g.alignments[this._alignment]||this._alignment,a.textBaseline=this._baseline,j&&(e.isString(j)?a.fillStyle=j:(g[j._renderer.type].render.call(j,a),a.fillStyle=j._renderer.gradient)),h&&(e.isString(h)?a.strokeStyle=h:(g[h._renderer.type].render.call(h,a),a.strokeStyle=h._renderer.gradient)),i&&(a.lineWidth=i),e.isNumber(k)&&(a.globalAlpha=k),n||c||(g.isHidden.test(j)||a.fillText(this.value,0,0),g.isHidden.test(h)||a.strokeText(this.value,0,0)),m||a.restore(),n&&!c&&a.clip(),this.flagReset()):this}},"radial-gradient":{render:function(a){if(this._update(),!this._renderer.gradient||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.gradient=a.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var b=0;b<this.stops.length;b++){var c=this.stops[b];this._renderer.gradient.addColorStop(c._offset,c._color)}}return this.flagReset()}}},h=a[a.Types.canvas]=function(b){var c=b.smoothing!==!1;this.domElement=b.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=b.overdraw||!1,e.isUndefined(this.ctx.imageSmoothingEnabled)||(this.ctx.imageSmoothingEnabled=c),this.scene=new a.Group,this.scene.parent=this};e.extend(h,{Utils:g}),e.extend(h.prototype,a.Utils.Events,{setSize:function(a,b,c){return this.width=a,this.height=b,this.ratio=e.isUndefined(c)?d(this.ctx):c,this.domElement.width=a*this.ratio,this.domElement.height=b*this.ratio,this.domElement.style&&e.extend(this.domElement.style,{width:a+"px",height:b+"px"}),this},render:function(){var a=1===this.ratio;return a||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),g.group.render.call(this.scene,this.ctx),a||this.ctx.restore(),this}})}(this.Two),function(a){var b=a.Utils.mod,c=a.Utils.toFixed,d=a.Utils,e={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(a,b){var c=a,f=document.createElementNS(this.ns,c);return"svg"===c&&(b=d.defaults(b||{},{version:this.version})),d.isEmpty(b)||e.setAttributes(f,b),f},setAttributes:function(a,b){for(var c=Object.keys(b),d=0;d<c.length;d++)a.setAttribute(c[d],b[c[d]]);return this},removeAttributes:function(a,b){for(var c in b)a.removeAttribute(c);return this},toString:function(d,e){for(var f,g=d.length,h=g-1,i="",j=0;j<g;j++){var k,l,m,n,o,p,q,r,s,t=d[j],u=e?b(j-1,g):Math.max(j-1,0),v=e?b(j+1,g):Math.min(j+1,h),w=d[u],x=d[v],y=c(t._x),z=c(t._y);switch(t._command){case a.Commands.close:k=a.Commands.close;break;case a.Commands.curve:p=w.controls&&w.controls.right||a.Vector.zero,q=t.controls&&t.controls.left||a.Vector.zero,w._relative?(l=c(p.x+w.x),m=c(p.y+w.y)):(l=c(p.x),m=c(p.y)),t._relative?(n=c(q.x+t.x),o=c(q.y+t.y)):(n=c(q.x),o=c(q.y)),k=(0===j?a.Commands.move:a.Commands.curve)+" "+l+" "+m+" "+n+" "+o+" "+y+" "+z;break;case a.Commands.move:f=t,k=a.Commands.move+" "+y+" "+z;break;default:k=t._command+" "+y+" "+z}j>=h&&e&&(t._command===a.Commands.curve&&(x=f,r=t.controls&&t.controls.right||t,s=x.controls&&x.controls.left||x,t._relative?(l=c(r.x+t.x),m=c(r.y+t.y)):(l=c(r.x),m=c(r.y)),x._relative?(n=c(s.x+x.x),o=c(s.y+x.y)):(n=c(s.x),o=c(s.y)),y=c(x.x),z=c(x.y),k+=" C "+l+" "+m+" "+n+" "+o+" "+y+" "+z),k+=" Z"),i+=k+" "}return i},getClip:function(a){var b=a._renderer.clip;if(!b){for(var c=a;c.parent;)c=c.parent;b=a._renderer.clip=e.createElement("clipPath"),c.defs.appendChild(b)}return b},group:{appendChild:function(a){var b=a._renderer.elem;if(b){var c=b.nodeName;!c||/(radial|linear)gradient/i.test(c)||a._clip||this.elem.appendChild(b)}},removeChild:function(a){var b=a._renderer.elem;if(b&&b.parentNode==this.elem){b.nodeName&&(a._clip||this.elem.removeChild(b))}},orderChild:function(a){this.elem.appendChild(a._renderer.elem)},renderChild:function(a){e[a._renderer.type].render.call(a,this)},render:function(a){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;this._renderer.elem||(this._renderer.elem=e.createElement("g",{id:this.id}),a.appendChild(this._renderer.elem));var b=this._matrix.manual||this._flagMatrix,c={domElement:a,elem:this._renderer.elem};b&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var d=0;d<this.children.length;d++){var f=this.children[d];e[f._renderer.type].render.call(f,a)}return this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagAdditions&&this.additions.forEach(e.group.appendChild,c),this._flagSubtractions&&this.subtractions.forEach(e.group.removeChild,c),this._flagOrder&&this.children.forEach(e.group.orderChild,c),this._flagMask&&(this._mask?this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")"):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(a){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;var b={};if((this._matrix.manual||this._flagMatrix)&&(b.transform="matrix("+this._matrix.toString()+")"),this._flagVertices){var c=e.toString(this._vertices,this._closed);b.d=c}if(this._flagFill&&(this._fill&&this._fill._renderer&&e[this._fill._renderer.type].render.call(this._fill,a),b.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._flagStroke&&(this._stroke&&this._stroke._renderer&&e[this._stroke._renderer.type].render.call(this._stroke,a),b.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(b["stroke-width"]=this._linewidth),this._flagOpacity&&(b["stroke-opacity"]=this._opacity,b["fill-opacity"]=this._opacity),this._flagVisible&&(b.visibility=this._visible?"visible":"hidden"),this._flagCap&&(b["stroke-linecap"]=this._cap),this._flagJoin&&(b["stroke-linejoin"]=this._join),this._flagMiter&&(b["stroke-miterlimit"]=this._miter),this._renderer.elem?e.setAttributes(this._renderer.elem,b):(b.id=this.id,this._renderer.elem=e.createElement("path",b),a.appendChild(this._renderer.elem)),this._flagClip){var d=e.getClip(this),f=this._renderer.elem;this._clip?(f.removeAttribute("id"),d.setAttribute("id",this.id),d.appendChild(f)):(d.removeAttribute("id"),f.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(f))}return this.flagReset()}},text:{render:function(a){this._update();var b={};if((this._matrix.manual||this._flagMatrix)&&(b.transform="matrix("+this._matrix.toString()+")"),this._flagFamily&&(b["font-family"]=this._family),this._flagSize&&(b["font-size"]=this._size),this._flagLeading&&(b["line-height"]=this._leading),this._flagAlignment&&(b["text-anchor"]=e.alignments[this._alignment]||this._alignment),this._flagBaseline&&(b["alignment-baseline"]=b["dominant-baseline"]=this._baseline),this._flagStyle&&(b["font-style"]=this._style),this._flagWeight&&(b["font-weight"]=this._weight),this._flagDecoration&&(b["text-decoration"]=this._decoration),this._flagFill&&(b.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._flagStroke&&(b.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(b["stroke-width"]=this._linewidth),this._flagOpacity&&(b.opacity=this._opacity),this._flagVisible&&(b.visibility=this._visible?"visible":"hidden"),this._renderer.elem?e.setAttributes(this._renderer.elem,b):(b.id=this.id,this._renderer.elem=e.createElement("text",b),a.defs.appendChild(this._renderer.elem)),this._flagClip){var c=e.getClip(this),d=this._renderer.elem;this._clip?(d.removeAttribute("id"),c.setAttribute("id",this.id),c.appendChild(d)):(c.removeAttribute("id"),d.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(d))}return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(a){this._update();var b={};if(this._flagEndPoints&&(b.x1=this.left._x,b.y1=this.left._y,b.x2=this.right._x,b.y2=this.right._y),this._flagSpread&&(b.spreadMethod=this._spread),this._renderer.elem?e.setAttributes(this._renderer.elem,b):(b.id=this.id,b.gradientUnits="userSpaceOnUse",this._renderer.elem=e.createElement("linearGradient",b),a.defs.appendChild(this._renderer.elem)),this._flagStops){this._renderer.elem.childNodes.length=0;for(var c=0;c<this.stops.length;c++){var d=this.stops[c],f={};d._flagOffset&&(f.offset=100*d._offset+"%"),d._flagColor&&(f["stop-color"]=d._color),d._flagOpacity&&(f["stop-opacity"]=d._opacity),d._renderer.elem?e.setAttributes(d._renderer.elem,f):d._renderer.elem=e.createElement("stop",f),this._renderer.elem.appendChild(d._renderer.elem),d.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(a){this._update();var b={};if(this._flagCenter&&(b.cx=this.center._x,b.cy=this.center._y),this._flagFocal&&(b.fx=this.focal._x,b.fy=this.focal._y),this._flagRadius&&(b.r=this._radius),this._flagSpread&&(b.spreadMethod=this._spread),this._renderer.elem?e.setAttributes(this._renderer.elem,b):(b.id=this.id,b.gradientUnits="userSpaceOnUse",this._renderer.elem=e.createElement("radialGradient",b),a.defs.appendChild(this._renderer.elem)),this._flagStops){this._renderer.elem.childNodes.length=0;for(var c=0;c<this.stops.length;c++){var d=this.stops[c],f={};d._flagOffset&&(f.offset=100*d._offset+"%"),d._flagColor&&(f["stop-color"]=d._color),d._flagOpacity&&(f["stop-opacity"]=d._opacity),d._renderer.elem?e.setAttributes(d._renderer.elem,f):d._renderer.elem=e.createElement("stop",f),this._renderer.elem.appendChild(d._renderer.elem),d.flagReset()}}return this.flagReset()}}},f=a[a.Types.svg]=function(b){this.domElement=b.domElement||e.createElement("svg"),this.scene=new a.Group,this.scene.parent=this,this.defs=e.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"};d.extend(f,{Utils:e}),d.extend(f.prototype,a.Utils.Events,{setSize:function(a,b){return this.width=a,this.height=b,e.setAttributes(this.domElement,{width:a,height:b}),this},render:function(){return e.group.render.call(this.scene,this.domElement),this}})}(this.Two),function(a){var c=this,d=a.Matrix.Multiply,e=a.Utils.mod,f=[1,0,0,0,1,0,0,0,1],g=new a.Array(9),h=a.Utils.getRatio,i=(a.Utils.getComputedMatrix,a.Utils.toFixed),j=a.Utils,k={isHidden:/(none|transparent)/i,canvas:c.document?c.document.createElement("canvas"):{getContext:j.identity},alignments:{left:"start",middle:"center",right:"end"},matrix:new a.Matrix,uv:new a.Array([0,0,1,0,0,1,0,1,1,0,1,1]),group:{removeChild:function(a,b){if(a.children)for(var c=0;c<a.children.length;c++)k.group.removeChild(a.children[c],b);else b.deleteTexture(a._renderer.texture),delete a._renderer.texture},renderChild:function(a){k[a._renderer.type].render.call(a,this.gl,this.program)},render:function(b,c){this._update();var e=this.parent,f=e._matrix&&e._matrix.manual||e._flagMatrix,h=this._matrix.manual||this._flagMatrix;if((f||h)&&(this._renderer.matrix||(this._renderer.matrix=new a.Array(9)),this._matrix.toArray(!0,g),d(g,e._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*e._renderer.scale,f&&(this._flagMatrix=!0)),this._mask&&(b.enable(b.STENCIL_TEST),b.stencilFunc(b.ALWAYS,1,1),b.colorMask(!1,!1,!1,!0),b.stencilOp(b.KEEP,b.KEEP,b.INCR),k[this._mask._renderer.type].render.call(this._mask,b,c,this),b.colorMask(!0,!0,!0,!0),b.stencilFunc(b.NOTEQUAL,0,1),b.stencilOp(b.KEEP,b.KEEP,b.KEEP)),this._flagOpacity=e._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(e&&e._renderer?e._renderer.opacity:1),this._flagSubtractions)for(var i=0;i<this.subtractions.length;i++)k.group.removeChild(this.subtractions[i],b);return this.children.forEach(k.group.renderChild,{gl:b,program:c}),this._mask&&(b.colorMask(!1,!1,!1,!1),b.stencilOp(b.KEEP,b.KEEP,b.DECR),k[this._mask._renderer.type].render.call(this._mask,b,c,this),b.colorMask(!0,!0,!0,!0),b.stencilFunc(b.NOTEQUAL,0,1),b.stencilOp(b.KEEP,b.KEEP,b.KEEP),b.disable(b.STENCIL_TEST)),this.flagReset()}},path:{updateCanvas:function(c){var d,f,g,h,l,m,n,o,p,q,r,s,t,u,v=c._vertices,w=this.canvas,x=this.ctx,y=c._renderer.scale,z=c._stroke,A=c._linewidth,B=c._fill,C=c._renderer.opacity||c._opacity,D=c._cap,E=c._join,F=c._miter,G=c._closed,H=v.length,I=H-1;w.width=Math.max(Math.ceil(c._renderer.rect.width*y),1),w.height=Math.max(Math.ceil(c._renderer.rect.height*y),1);var J=c._renderer.rect.centroid,K=J.x,L=J.y;x.clearRect(0,0,w.width,w.height),B&&(j.isString(B)?x.fillStyle=B:(k[B._renderer.type].render.call(B,x,c),x.fillStyle=B._renderer.gradient)),z&&(j.isString(z)?x.strokeStyle=z:(k[z._renderer.type].render.call(z,x,c),x.strokeStyle=z._renderer.gradient)),A&&(x.lineWidth=A),F&&(x.miterLimit=F),E&&(x.lineJoin=E),D&&(x.lineCap=D),j.isNumber(C)&&(x.globalAlpha=C);var M;x.save(),x.scale(y,y),x.translate(K,L),x.beginPath();for(var N=0;N<v.length;N++)switch(b=v[N],t=i(b._x),u=i(b._y),b._command){case a.Commands.close:x.closePath();break;case a.Commands.curve:f=G?e(N-1,H):Math.max(N-1,0),d=G?e(N+1,H):Math.min(N+1,I),g=v[f],h=v[d],p=g.controls&&g.controls.right||a.Vector.zero,q=b.controls&&b.controls.left||a.Vector.zero,g._relative?(n=i(p.x+g._x),o=i(p.y+g._y)):(n=i(p.x),o=i(p.y)),b._relative?(l=i(q.x+b._x),m=i(q.y+b._y)):(l=i(q.x),m=i(q.y)),x.bezierCurveTo(n,o,l,m,t,u),N>=I&&G&&(h=M,r=b.controls&&b.controls.right||a.Vector.zero,s=h.controls&&h.controls.left||a.Vector.zero,b._relative?(n=i(r.x+b._x),o=i(r.y+b._y)):(n=i(r.x),o=i(r.y)),h._relative?(l=i(s.x+h._x),m=i(s.y+h._y)):(l=i(s.x),m=i(s.y)),t=i(h._x),u=i(h._y),x.bezierCurveTo(n,o,l,m,t,u));break;case a.Commands.line:x.lineTo(t,u);break;case a.Commands.move:M=b,x.moveTo(t,u)}G&&x.closePath(),k.isHidden.test(B)||x.fill(),k.isHidden.test(z)||x.stroke(),x.restore()},getBoundingClientRect:function(a,b,c){var d,e,f=1/0,g=-(1/0),h=1/0,i=-(1/0);a.forEach(function(a){var b,c,d,e,j,k,l=a.x,m=a.y,n=a.controls;h=Math.min(m,h),f=Math.min(l,f),g=Math.max(l,g),i=Math.max(m,i),a.controls&&(j=n.left,k=n.right,j&&k&&(b=a._relative?j.x+l:j.x,c=a._relative?j.y+m:j.y,d=a._relative?k.x+l:k.x,e=a._relative?k.y+m:k.y,b&&c&&d&&e&&(h=Math.min(c,e,h),f=Math.min(b,d,f),g=Math.max(b,d,g),i=Math.max(c,e,i))))}),j.isNumber(b)&&(h-=b,f-=b,g+=b,i+=b),d=g-f,e=i-h,c.top=h,c.left=f,c.right=g,c.bottom=i,c.width=d,c.height=e,c.centroid||(c.centroid={}),c.centroid.x=-f,c.centroid.y=-h},render:function(b,c,e){if(!this._visible||!this._opacity)return this;var f=this.parent,h=f._matrix.manual||f._flagMatrix,i=this._matrix.manual||this._flagMatrix,j=this._flagVertices||this._flagFill||this._fill instanceof a.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof a.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._stroke instanceof a.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof a.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._flagStroke||this._flagLinewidth||this._flagOpacity||f._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||!this._renderer.texture;return this._update(),(h||i)&&(this._renderer.matrix||(this._renderer.matrix=new a.Array(9)),this._matrix.toArray(!0,g),d(g,f._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*f._renderer.scale),j&&(this._renderer.rect||(this._renderer.rect={}),this._renderer.triangles||(this._renderer.triangles=new a.Array(12)),this._renderer.opacity=this._opacity*f._renderer.opacity,k.path.getBoundingClientRect(this._vertices,this._linewidth,this._renderer.rect),k.getTriangles(this._renderer.rect,this._renderer.triangles),k.updateBuffer.call(k,b,this,c),k.updateTexture.call(k,b,this)),!this._clip||e?(b.bindBuffer(b.ARRAY_BUFFER,this._renderer.textureCoordsBuffer),b.vertexAttribPointer(c.textureCoords,2,b.FLOAT,!1,0,0),b.bindTexture(b.TEXTURE_2D,this._renderer.texture),b.uniformMatrix3fv(c.matrix,!1,this._renderer.matrix),b.bindBuffer(b.ARRAY_BUFFER,this._renderer.buffer),b.vertexAttribPointer(c.position,2,b.FLOAT,!1,0,0),b.drawArrays(b.TRIANGLES,0,6),this.flagReset()):void 0}},text:{updateCanvas:function(a){var b=this.canvas,c=this.ctx,d=a._renderer.scale,e=a._stroke,f=a._linewidth*d,g=a._fill,h=a._renderer.opacity||a._opacity;b.width=Math.max(Math.ceil(a._renderer.rect.width*d),1),b.height=Math.max(Math.ceil(a._renderer.rect.height*d),1);var i=a._renderer.rect.centroid,l=i.x,m=i.y;c.clearRect(0,0,b.width,b.height),c.font=[a._style,a._weight,a._size+"px/"+a._leading+"px",a._family].join(" "),c.textAlign="center",c.textBaseline="middle",g&&(j.isString(g)?c.fillStyle=g:(k[g._renderer.type].render.call(g,c,a),c.fillStyle=g._renderer.gradient)),e&&(j.isString(e)?c.strokeStyle=e:(k[e._renderer.type].render.call(e,c,a),c.strokeStyle=e._renderer.gradient)),f&&(c.lineWidth=f),j.isNumber(h)&&(c.globalAlpha=h),c.save(),c.scale(d,d),c.translate(l,m),k.isHidden.test(g)||c.fillText(a.value,0,0),k.isHidden.test(e)||c.strokeText(a.value,0,0),c.restore()},getBoundingClientRect:function(a,b){var c=k.ctx;c.font=[a._style,a._weight,a._size+"px/"+a._leading+"px",a._family].join(" "),c.textAlign="center",c.textBaseline=a._baseline;var d=c.measureText(a._value).width,e=Math.max(a._size||a._leading);this._linewidth&&!k.isHidden.test(this._stroke)&&(e+=this._linewidth);var f=d/2,g=e/2;switch(k.alignments[a._alignment]||a._alignment){case k.alignments.left:b.left=0,b.right=d;break;case k.alignments.right:b.left=-d,b.right=0;break;default:b.left=-f,b.right=f}switch(a._baseline){case"bottom":b.top=-e,b.bottom=0;break;case"top":b.top=0,b.bottom=e;break;default:b.top=-g,b.bottom=g}b.width=d,b.height=e,b.centroid||(b.centroid={}),b.centroid.x=f,b.centroid.y=g},render:function(b,c,e){if(!this._visible||!this._opacity)return this;var f=this.parent,h=f._matrix.manual||f._flagMatrix,i=this._matrix.manual||this._flagMatrix,j=this._flagVertices||this._flagFill||this._fill instanceof a.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof a.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._stroke instanceof a.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof a.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._flagStroke||this._flagLinewidth||this._flagOpacity||f._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||!this._renderer.texture;return this._update(),(h||i)&&(this._renderer.matrix||(this._renderer.matrix=new a.Array(9)),this._matrix.toArray(!0,g),d(g,f._renderer.matrix,this._renderer.matrix),this._renderer.scale=this._scale*f._renderer.scale),j&&(this._renderer.rect||(this._renderer.rect={}),this._renderer.triangles||(this._renderer.triangles=new a.Array(12)),this._renderer.opacity=this._opacity*f._renderer.opacity,k.text.getBoundingClientRect(this,this._renderer.rect),k.getTriangles(this._renderer.rect,this._renderer.triangles),k.updateBuffer.call(k,b,this,c),k.updateTexture.call(k,b,this)),!this._clip||e?(b.bindBuffer(b.ARRAY_BUFFER,this._renderer.textureCoordsBuffer),b.vertexAttribPointer(c.textureCoords,2,b.FLOAT,!1,0,0),b.bindTexture(b.TEXTURE_2D,this._renderer.texture),b.uniformMatrix3fv(c.matrix,!1,this._renderer.matrix),b.bindBuffer(b.ARRAY_BUFFER,this._renderer.buffer),b.vertexAttribPointer(c.position,2,b.FLOAT,!1,0,0),b.drawArrays(b.TRIANGLES,0,6),this.flagReset()):void 0}},"linear-gradient":{render:function(a,b){if(a.canvas.getContext("2d")){if(this._update(),!this._renderer.gradient||this._flagEndPoints||this._flagStops){this._renderer.gradient=a.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var c=0;c<this.stops.length;c++){var d=this.stops[c];this._renderer.gradient.addColorStop(d._offset,d._color)}}return this.flagReset()}}},"radial-gradient":{render:function(a,b){if(a.canvas.getContext("2d")){if(this._update(),!this._renderer.gradient||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.gradient=a.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var c=0;c<this.stops.length;c++){var d=this.stops[c];this._renderer.gradient.addColorStop(d._offset,d._color)}}return this.flagReset()}}},getTriangles:function(a,b){var c=a.top,d=a.left,e=a.right,f=a.bottom;b[0]=d,b[1]=c,b[2]=e,b[3]=c,b[4]=d,b[5]=f,b[6]=d,b[7]=f,b[8]=e,b[9]=c,b[10]=e,b[11]=f},updateTexture:function(a,b){this[b._renderer.type].updateCanvas.call(k,b),b._renderer.texture&&a.deleteTexture(b._renderer.texture),a.bindBuffer(a.ARRAY_BUFFER,b._renderer.textureCoordsBuffer),b._renderer.texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,b._renderer.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),this.canvas.width<=0||this.canvas.height<=0||a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.canvas)},updateBuffer:function(a,b,c){j.isObject(b._renderer.buffer)&&a.deleteBuffer(b._renderer.buffer),b._renderer.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,b._renderer.buffer),a.enableVertexAttribArray(c.position),a.bufferData(a.ARRAY_BUFFER,b._renderer.triangles,a.STATIC_DRAW),j.isObject(b._renderer.textureCoordsBuffer)&&a.deleteBuffer(b._renderer.textureCoordsBuffer),b._renderer.textureCoordsBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,b._renderer.textureCoordsBuffer),a.enableVertexAttribArray(c.textureCoords),a.bufferData(a.ARRAY_BUFFER,this.uv,a.STATIC_DRAW)},program:{create:function(b,c){var d,e;if(d=b.createProgram(),j.each(c,function(a){b.attachShader(d,a)}),b.linkProgram(d),!b.getProgramParameter(d,b.LINK_STATUS))throw e=b.getProgramInfoLog(d),b.deleteProgram(d),new a.Utils.Error("unable to link program: "+e);return d}},shaders:{create:function(b,c,d){var e,f;if(e=b.createShader(b[d]),b.shaderSource(e,c),b.compileShader(e),!b.getShaderParameter(e,b.COMPILE_STATUS))throw f=b.getShaderInfoLog(e),b.deleteShader(e),new a.Utils.Error("unable to compile shader "+e+": "+f);return e},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:["attribute vec2 a_position;","attribute vec2 a_textureCoords;","","uniform mat3 u_matrix;","uniform vec2 u_resolution;","","varying vec2 v_textureCoords;","","void main() {","   vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;","   vec2 normal = projected / u_resolution;","   vec2 clipspace = (normal * 2.0) - 1.0;","","   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);","   v_textureCoords = a_textureCoords;","}"].join("\n"),fragment:["precision mediump float;","","uniform sampler2D u_image;","varying vec2 v_textureCoords;","","void main() {","  gl_FragColor = texture2D(u_image, v_textureCoords);","}"].join("\n")}};k.ctx=k.canvas.getContext("2d");var l=a[a.Types.webgl]=function(b){var c,d,e,g;if(this.domElement=b.domElement||document.createElement("canvas"),this.scene=new a.Group,this.scene.parent=this,this._renderer={matrix:new a.Array(f),scale:1,opacity:1},this._flagMatrix=!0,c=j.defaults(b||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=c.overdraw,d=this.ctx=this.domElement.getContext("webgl",c)||this.domElement.getContext("experimental-webgl",c),!this.ctx)throw new a.Utils.Error("unable to create a webgl context. Try using another renderer.");e=k.shaders.create(d,k.shaders.vertex,k.shaders.types.vertex),g=k.shaders.create(d,k.shaders.fragment,k.shaders.types.fragment),this.program=k.program.create(d,[e,g]),d.useProgram(this.program),this.program.position=d.getAttribLocation(this.program,"a_position"),this.program.matrix=d.getUniformLocation(this.program,"u_matrix"),this.program.textureCoords=d.getAttribLocation(this.program,"a_textureCoords"),d.disable(d.DEPTH_TEST),d.enable(d.BLEND),d.blendEquationSeparate(d.FUNC_ADD,d.FUNC_ADD),d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA)};j.extend(l,{Utils:k}),j.extend(l.prototype,a.Utils.Events,{setSize:function(a,b,c){this.width=a,this.height=b,this.ratio=j.isUndefined(c)?h(this.ctx):c,this.domElement.width=a*this.ratio,this.domElement.height=b*this.ratio,j.extend(this.domElement.style,{width:a+"px",height:b+"px"}),a*=this.ratio,b*=this.ratio,this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,a,b);var d=this.ctx.getUniformLocation(this.program,"u_resolution");return this.ctx.uniform2f(d,a,b),this},render:function(){var a=this.ctx;return this.overdraw||a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),k.group.render.call(this.scene,a,this.program),this._flagMatrix=!1,this}})}(this.Two),function(a){var b=a.Utils,c=a.Shape=function(){this._renderer={},this._renderer.flagMatrix=b.bind(c.FlagMatrix,this),this.id=a.Identifier+a.uniqueId(),this.classList=[],this._matrix=new a.Matrix,this.translation=new a.Vector,this.rotation=0,this.scale=1};b.extend(c,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(b){Object.defineProperty(b,"translation",{enumerable:!0,get:function(){return this._translation},set:function(b){this._translation&&this._translation.unbind(a.Events.change,this._renderer.flagMatrix),this._translation=b,this._translation.bind(a.Events.change,this._renderer.flagMatrix),c.FlagMatrix.call(this)}}),Object.defineProperty(b,"rotation",{enumerable:!0,get:function(){return this._rotation},set:function(a){this._rotation=a,this._flagMatrix=!0}}),Object.defineProperty(b,"scale",{enumerable:!0,get:function(){return this._scale},set:function(b){this._scale instanceof a.Vector&&this._scale.unbind(a.Events.change,this._renderer.flagMatrix),this._scale=b,this._scale instanceof a.Vector&&this._scale.bind(a.Events.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}})}}),b.extend(c.prototype,a.Utils.Events,{_flagMatrix:!0,_flagScale:!1,_rotation:0,_scale:1,_translation:null,addTo:function(a){return a.add(this),this},clone:function(){var a=new c;return a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,b.each(c.Properties,function(b){a[b]=this[b]},this),a._update()},_update:function(b){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof a.Vector?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation)),b&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagMatrix=this._flagScale=!1,this}}),c.MakeObservable(c.prototype)}(this.Two),function(a){function b(b,c,d){var e,f,g,h,i,j,k,l,m=c.controls&&c.controls.right,n=b.controls&&b.controls.left;return e=c.x,i=c.y,f=(m||c).x,j=(m||c).y,g=(n||b).x,k=(n||b).y,h=b.x,l=b.y,m&&c._relative&&(f+=c.x,j+=c.y),n&&b._relative&&(g+=b.x,k+=b.y),a.Utils.getCurveLength(e,i,f,j,g,k,h,l,d)}function c(b,c,d){var e,f,g,h,i,j,k,l,m=c.controls&&c.controls.right,n=b.controls&&b.controls.left;return e=c.x,i=c.y,f=(m||c).x,j=(m||c).y,g=(n||b).x,k=(n||b).y,h=b.x,l=b.y,m&&c._relative&&(f+=c.x,j+=c.y),n&&b._relative&&(g+=b.x,k+=b.y),a.Utils.subdivide(e,i,f,j,g,k,h,l,d)}var d=Math.min,e=Math.max,f=Math.round,g=a.Utils.getComputedMatrix,h={},i=a.Utils;i.each(a.Commands,function(a,b){h[b]=new RegExp(a)});var j=a.Path=function(b,c,d,e){a.Shape.call(this),this._renderer.type="path",this._closed=!!c,this._curved=!!d,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this._vertices=[],this.vertices=b,this.automatic=!e};i.extend(j,{Properties:["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0},MakeObservable:function(b){a.Shape.MakeObservable(b),i.each(j.Properties.slice(0,8),a.Utils.defineProperty,b),Object.defineProperty(b,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(b,"closed",{enumerable:!0,get:function(){return this._closed},set:function(a){this._closed=!!a,this._flagVertices=!0}}),Object.defineProperty(b,"curved",{enumerable:!0,get:function(){return this._curved},set:function(a){this._curved=!!a,this._flagVertices=!0}}),Object.defineProperty(b,"automatic",{enumerable:!0,get:function(){return this._automatic},set:function(a){if(a!==this._automatic){this._automatic=!!a;var b=this._automatic?"ignore":"listen";i.each(this.vertices,function(a){a[b]()})}}}),Object.defineProperty(b,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(a){this._beginning=d(e(a,0),this._ending),this._flagVertices=!0}}),Object.defineProperty(b,"ending",{enumerable:!0,get:function(){return this._ending},set:function(a){this._ending=d(e(a,this._beginning),1),this._flagVertices=!0}}),Object.defineProperty(b,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(b){var c=i.bind(j.FlagVertices,this),d=i.bind(function(b){for(var d=b.length;d--;)b[d].bind(a.Events.change,c);c()},this),e=i.bind(function(b){i.each(b,function(b){b.unbind(a.Events.change,c)},this),c()},this);this._collection&&this._collection.unbind(),this._collection=new a.Utils.Collection((b||[]).slice(0)),this._collection.bind(a.Events.insert,d),this._collection.bind(a.Events.remove,e),d(this._collection)}}),Object.defineProperty(b,"clip",{enumerable:!0,get:function(){return this._clip},set:function(a){this._clip=a,this._flagClip=!0}})}}),i.extend(j.prototype,a.Shape.prototype,{_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_clip:!1,clone:function(b){b=b||this.parent;var c=i.map(this.vertices,function(a){return a.clone()}),d=new j(c,this.closed,this.curved,!this.automatic);return i.each(a.Path.Properties,function(a){d[a]=this[a]},this),d.translation.copy(this.translation),d.rotation=this.rotation,d.scale=this.scale,b.add(d),d},toObject:function(){var b={vertices:i.map(this.vertices,function(a){return a.toObject()})};return i.each(a.Shape.Properties,function(a){b[a]=this[a]},this),b.translation=this.translation.toObject,b.rotation=this.rotation,b.scale=this.scale,b},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke="transparent",this},corner:function(){var a=this.getBoundingClientRect(!0);return a.centroid={x:a.left+a.width/2,y:a.top+a.height/2},i.each(this.vertices,function(b){b.addSelf(a.centroid)}),this},center:function(){var a=this.getBoundingClientRect(!0);return a.centroid={x:a.left+a.width/2,y:a.top+a.height/2},i.each(this.vertices,function(b){b.subSelf(a.centroid)}),this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(a){var b,c,f,h,i,j,k,l=1/0,m=-(1/0),n=1/0,o=-(1/0);if(this._update(!0),b=a?this._matrix:g(this),c=this.linewidth/2,(f=this._vertices.length)<=0)return k=b.multiply(0,0,1),{top:k.y,left:k.x,right:k.x,bottom:k.y,width:0,height:0};for(j=0;j<f;j++)k=this._vertices[j],h=k.x,i=k.y,k=b.multiply(h,i,1),n=d(k.y-c,n),l=d(k.x-c,l),m=e(k.x+c,m),o=e(k.y+c,o);return{top:n,left:l,right:m,bottom:o,width:m-l,height:o-n}},getPointAt:function(b,c){for(var d,e,f,g,h,j,k,l,m,n,o,p,q=this.length*Math.min(Math.max(b,0),1),r=this.vertices.length,s=r-1,t=null,u=null,v=0,w=this._lengths.length,x=0;v<w;v++){if(x+this._lengths[v]>q){t=this.vertices[this.closed?a.Utils.mod(v,r):v],u=this.vertices[Math.min(Math.max(v-1,0),s)],q-=x,b=q/this._lengths[v];break}x+=this._lengths[v]}return i.isNull(t)||i.isNull(u)?null:(p=u.controls&&u.controls.right,o=t.controls&&t.controls.left,e=u.x,k=u.y,f=(p||u).x,l=(p||u).y,g=(o||t).x,m=(o||t).y,h=t.x,n=t.y,p&&u._relative&&(f+=u.x,l+=u.y),o&&t._relative&&(g+=t.x,m+=t.y),d=a.Utils.getPointOnCubicBezier(b,e,f,g,h),j=a.Utils.getPointOnCubicBezier(b,k,l,m,n),i.isObject(c)?(c.x=d,c.y=j,c):new a.Vector(d,j))},plot:function(){if(this.curved)return a.Utils.getCurveFromPoints(this._vertices,this.closed),this;for(var b=0;b<this._vertices.length;b++)this._vertices[b]._command=0===b?a.Commands.move:a.Commands.line;return this},subdivide:function(b){this._update();var d=this.vertices.length-1,e=this.vertices[d],f=this._closed||this.vertices[d]._command===a.Commands.close,g=[];return i.each(this.vertices,function(h,j){if(j<=0&&!f)return void(e=h);if(h.command===a.Commands.move)return g.push(new a.Anchor(e.x,e.y)),j>0&&(g[g.length-1].command=a.Commands.line),void(e=h);var k=c(h,e,b);g=g.concat(k),i.each(k,function(b,c){c<=0&&e.command===a.Commands.move?b.command=a.Commands.move:b.command=a.Commands.line}),j>=d&&(this._closed&&this._automatic?(e=h,k=c(h,e,b),g=g.concat(k),i.each(k,function(b,c){c<=0&&e.command===a.Commands.move?b.command=a.Commands.move:b.command=a.Commands.line})):f&&g.push(new a.Anchor(h.x,h.y)),g[g.length-1].command=f?a.Commands.close:a.Commands.line),e=h},this),this._automatic=!1,this._curved=!1,this.vertices=g,this},_updateLength:function(c){this._update();var d=this.vertices.length-1,e=this.vertices[d],f=this._closed||this.vertices[d]._command===a.Commands.close,g=0;return i.isUndefined(this._lengths)&&(this._lengths=[]),i.each(this.vertices,function(h,i){if(i<=0&&!f||h.command===a.Commands.move)return e=h,void(this._lengths[i]=0);this._lengths[i]=b(h,e,c),g+=this._lengths[i],i>=d&&f&&(e=h,this._lengths[i+1]=b(h,e,c),g+=this._lengths[i+1]),e=h},this),this._length=g,this},_update:function(){if(this._flagVertices){var b,c=this.vertices.length,d=c-1,e=f(this._beginning*d),g=f(this._ending*d);this._vertices.length=0;for(var h=e;h<g+1;h++)b=this.vertices[h],this._vertices.push(b);this._automatic&&this.plot()}return a.Shape.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,a.Shape.prototype.flagReset.call(this),this}}),j.MakeObservable(j.prototype)}(this.Two),function(a){function b(a,b){for(;a<0;)a+=b;return a%b}var c=a.Path,d=(Math.PI,2*Math.PI),e=Math.PI/2,f=(Math.cos,Math.sin,Math.abs,a.Utils),g=a.ArcSegment=function(b,d,e,g,h,i,j){var k=f.map(f.range(j||3*a.Resolution),function(){return new a.Anchor});c.call(this,k,!1,!1,!0),this.innerRadius=e,this.outerRadius=g,this.startAngle=h,this.endAngle=i,this._update(),this.translation.set(b,d)};f.extend(g,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(b){c.MakeObservable(b),f.each(g.Properties,a.Utils.defineProperty,b)}}),f.extend(g.prototype,c.prototype,{_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:d,_innerRadius:0,_outerRadius:0,_update:function(){if(this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var f,g=this._startAngle,h=this._endAngle,i=this._innerRadius,j=this._outerRadius,k=b(g,d)===b(h,d),l=i>0,m=this.vertices,n=l?m.length/2:m.length,o=0;k?n--:l||(n-=2);for(var p=0,q=n-1;p<n;p++){var r=p/q,s=m[o],t=r*(h-g)+g,u=(h-g)/n,v=j*Math.cos(t),w=j*Math.sin(t);switch(p){case 0:f=a.Commands.move;break;default:f=a.Commands.curve}if(s.command=f,s.x=v,s.y=w,s.controls.left.clear(),s.controls.right.clear(),s.command===a.Commands.curve){var x=j*u/Math.PI;s.controls.left.x=x*Math.cos(t-e),s.controls.left.y=x*Math.sin(t-e),s.controls.right.x=x*Math.cos(t+e),s.controls.right.y=x*Math.sin(t+e),1===p&&s.controls.left.multiplyScalar(2),p===q&&s.controls.right.multiplyScalar(2)}o++}if(l)for(k?(m[o].command=a.Commands.close,o++):(n--,q=n-1),p=0;p<n;p++)r=p/q,s=m[o],t=(1-r)*(h-g)+g,u=(h-g)/n,v=i*Math.cos(t),w=i*Math.sin(t),f=a.Commands.curve,p<=0&&(f=k?a.Commands.move:a.Commands.line),s.command=f,s.x=v,s.y=w,s.controls.left.clear(),s.controls.right.clear(),s.command===a.Commands.curve&&(x=i*u/Math.PI,s.controls.left.x=x*Math.cos(t+e),s.controls.left.y=x*Math.sin(t+e),s.controls.right.x=x*Math.cos(t-e),s.controls.right.y=x*Math.sin(t-e),1===p&&s.controls.left.multiplyScalar(2),p===q&&s.controls.right.multiplyScalar(2)),o++;else k||(m[o].command=a.Commands.line,m[o].x=0,m[o].y=0,o++);m[o].command=a.Commands.close}return c.prototype._update.call(this),this},flagReset:function(){return c.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}}),g.MakeObservable(g.prototype)}(this.Two),function(a){var b=a.Path,c=2*Math.PI,d=Math.cos,e=Math.sin,f=a.Utils,g=a.Circle=function(c,d,e){var g=a.Resolution,h=f.map(f.range(g),function(b){return new a.Anchor},this);b.call(this,h,!0,!0),this.radius=e,this._update(),this.translation.set(c,d)};f.extend(g,{Properties:["radius"],MakeObservable:function(c){b.MakeObservable(c),f.each(g.Properties,a.Utils.defineProperty,c)}}),f.extend(g.prototype,b.prototype,{_radius:0,_flagRadius:!1,_update:function(){if(this._flagRadius)for(var a=0,f=this.vertices.length;a<f;a++){var g=a/f,h=g*c,i=this._radius*d(h),j=this._radius*e(h);this.vertices[a].set(i,j)}return b.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,b.prototype.flagReset.call(this),this}}),g.MakeObservable(g.prototype)}(this.Two),function(a){var b=a.Path,c=2*Math.PI,d=Math.cos,e=Math.sin,f=a.Utils,g=a.Ellipse=function(c,d,e,g){f.isNumber(g)||(g=e);var h=a.Resolution,i=f.map(f.range(h),function(b){return new a.Anchor},this);b.call(this,i,!0,!0),this.width=2*e,this.height=2*g,this._update(),this.translation.set(c,d)};f.extend(g,{Properties:["width","height"],MakeObservable:function(c){b.MakeObservable(c),f.each(g.Properties,a.Utils.defineProperty,c)}}),f.extend(g.prototype,b.prototype,{_width:0,_height:0,_flagWidth:!1,_flagHeight:!1,_update:function(){if(this._flagWidth||this._flagHeight)for(var a=0,f=this.vertices.length;a<f;a++){var g=a/f,h=g*c,i=this._width*d(h)/2,j=this._height*e(h)/2;this.vertices[a].set(i,j)}return b.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,b.prototype.flagReset.call(this),this}}),g.MakeObservable(g.prototype)}(this.Two),function(a){var b=a.Path,c=a.Utils,d=a.Line=function(c,d,e,f){var g=e-c,h=f-d,i=g/2,j=h/2;b.call(this,[new a.Anchor(-i,-j),new a.Anchor(i,j)]),this.translation.set(c+i,d+j)};c.extend(d.prototype,b.prototype),b.MakeObservable(d.prototype)}(this.Two),function(a){var b=a.Path,c=2*Math.PI,d=Math.cos,e=Math.sin,f=a.Utils,g=a.Polygon=function(c,d,e,g){g=Math.max(g||0,3);var h=f.map(f.range(g),function(b){return new a.Anchor});b.call(this,h,!0),this.width=2*e,this.height=2*e,this.sides=g,this._update(),this.translation.set(c,d)};f.extend(g,{Properties:["width","height","sides"],MakeObservable:function(c){b.MakeObservable(c),f.each(g.Properties,a.Utils.defineProperty,c)}}),f.extend(g.prototype,b.prototype,{_width:0,_height:0,_sides:0,_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_update:function(){if(this._flagWidth||this._flagHeight||this._flagSides){var f=this._sides,g=this.vertices.length;g>f&&this.vertices.splice(f-1,g-f);for(var h=0;h<f;h++){var i=(h+.5)/f,j=c*i+Math.PI/2,k=this._width*d(j),l=this._height*e(j);h>=g?this.vertices.push(new a.Anchor(k,l)):this.vertices[h].set(k,l)}}return b.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,b.prototype.flagReset.call(this),this}}),g.MakeObservable(g.prototype)}(this.Two),function(a){var b=a.Path,c=a.Utils,d=a.Rectangle=function(c,d,e,f){b.call(this,[new a.Anchor,new a.Anchor,new a.Anchor,new a.Anchor],!0),this.width=e,this.height=f,this._update(),this.translation.set(c,d)};c.extend(d,{Properties:["width","height"],MakeObservable:function(e){b.MakeObservable(e),c.each(d.Properties,a.Utils.defineProperty,e)}}),c.extend(d.prototype,b.prototype,{_width:0,_height:0,_flagWidth:0,_flagHeight:0,_update:function(){if(this._flagWidth||this._flagHeight){var a=this._width/2,c=this._height/2;this.vertices[0].set(-a,-c),this.vertices[1].set(a,-c),this.vertices[2].set(a,c),this.vertices[3].set(-a,c)}return b.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,b.prototype.flagReset.call(this),this}}),d.MakeObservable(d.prototype)}(this.Two),function(a){var b=a.Path,c=a.Utils,d=a.RoundedRectangle=function(d,e,f,g,h){c.isNumber(h)||(h=Math.floor(Math.min(f,g)/12));var i=10,j=c.map(c.range(i),function(b){return new a.Anchor(0,0,0,0,0,0,0===b?a.Commands.move:a.Commands.curve)});j[j.length-1].command=a.Commands.close,b.call(this,j,!1,!1,!0),this.width=f,this.height=g,this.radius=h,this._update,this.translation.set(d,e)};c.extend(d,{Properties:["width","height","radius"],MakeObservable:function(e){b.MakeObservable(e),c.each(d.Properties,a.Utils.defineProperty,e)}}),c.extend(d.prototype,b.prototype,{_width:0,_height:0,_radius:0,_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_update:function(){if(this._flagWidth||this._flagHeight||this._flagRadius){var a,c=this._width,d=this._height,e=Math.min(Math.max(this._radius,0),Math.min(c,d)),f=c/2,g=d/2;a=this.vertices[0],a.x=-(f-e),a.y=-g,a=this.vertices[1],a.x=f-e,a.y=-g,a.controls.left.clear(),a.controls.right.x=e,a.controls.right.y=0,a=this.vertices[2],a.x=f,a.y=-(g-e),a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[3],a.x=f,a.y=g-e,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=e,a=this.vertices[4],a.x=f-e,a.y=g,a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[5],a.x=-(f-e),a.y=g,a.controls.left.clear(),a.controls.right.x=-e,a.controls.right.y=0,a=this.vertices[6],a.x=-f,a.y=g-e,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[7],a.x=-f,a.y=-(g-e),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-e,a=this.vertices[8],a.x=-(f-e),a.y=-g,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[9],a.copy(this.vertices[8])}return b.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,b.prototype.flagReset.call(this),this}}),d.MakeObservable(d.prototype)}(this.Two),function(a){var b=a.Path,c=2*Math.PI,d=Math.cos,e=Math.sin,f=a.Utils,g=a.Star=function(c,d,e,g,h){f.isNumber(g)||(g=e/2),(!f.isNumber(h)||h<=0)&&(h=5);var i=2*h,j=f.map(f.range(i),function(b){return new a.Anchor});b.call(this,j,!0),this.innerRadius=g,this.outerRadius=e,this.sides=h,this._update(),this.translation.set(c,d)};f.extend(g,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(c){b.MakeObservable(c),f.each(g.Properties,a.Utils.defineProperty,c)}}),f.extend(g.prototype,b.prototype,{_innerRadius:0,_outerRadius:0,_sides:0,_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_update:function(){if(this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var f=2*this._sides,g=this.vertices.length;g>f&&this.vertices.splice(f-1,g-f);for(var h=0;h<f;h++){var i=(h+.5)/f,j=c*i,k=h%2?this._innerRadius:this._outerRadius,l=k*d(j),m=k*e(j);h>=g?this.vertices.push(new a.Anchor(l,m)):this.vertices[h].set(l,m)}}return b.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,b.prototype.flagReset.call(this),this}}),g.MakeObservable(g.prototype)}(this.Two),function(a){var b=this,c=a.Utils.getComputedMatrix,d=a.Utils,e=b.document?b.document.createElement("canvas"):{getContext:d.identity};e.getContext("2d");a.Text=function(b,c,e,f){if(a.Shape.call(this),this._renderer.type="text",this.value=b,d.isNumber(c)&&(this.translation.x=c),d.isNumber(e)&&(this.translation.y=e),!d.isObject(f))return this;d.each(a.Text.Properties,function(a){a in f&&(this[a]=f[a])},this)},d.extend(a.Text,{Properties:["value","family","size","leading","alignment","fill","stroke","linewidth","style","weight","decoration","baseline","opacity","visible"],MakeObservable:function(b){a.Shape.MakeObservable(b),d.each(a.Text.Properties,a.Utils.defineProperty,b),Object.defineProperty(b,"clip",{enumerable:!0,get:function(){return this._clip},set:function(a){this._clip=a,this._flagClip=!0}})}}),d.extend(a.Text.prototype,a.Shape.prototype,{_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_visible:!0,_clip:!1,remove:function(){return this.parent?(this.parent.remove(this),this):this},clone:function(b){var b=b||this.parent,c=new a.Text(this.value);return c.translation.copy(this.translation),c.rotation=this.rotation,c.scale=this.scale,d.each(a.Text.Properties,function(a){c[a]=this[a]},this),b.add(c),c},toObject:function(){var b={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return d.each(a.Text.Properties,function(a){b[a]=this[a]},this),b},noStroke:function(){return this.stroke="transparent",this},noFill:function(){return this.fill="transparent",this},getBoundingClientRect:function(a){var b,d;return this._update(!0),b=a?this._matrix:c(this),d=b.multiply(0,0,1),{top:d.x,left:d.y,right:d.x,bottom:d.y,width:0,height:0}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpaicty=this._flagVisible=this._flagClip=this._flagDecoration=this._flagBaseline=!1,a.Shape.prototype.flagReset.call(this),this}}),a.Text.MakeObservable(a.Text.prototype)}(this.Two),function(a){var b=a.Utils,c=a.Stop=function(a,d,e){this._renderer={},this.offset=b.isNumber(a)?a:c.Index<=0?0:1,this.opacity=b.isNumber(e)?e:1,this.color=b.isString(d)?d:c.Index<=0?"#fff":"#000",c.Index=(c.Index+1)%2};b.extend(c,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(d){b.each(c.Properties,a.Utils.defineProperty,d)}}),b.extend(c.prototype,a.Utils.Events,{clone:function(){var a=new c;return b.each(c.Properties,function(b){a[b]=this[b]},this),a},toObject:function(){var a={};return b.each(c.Properties,function(b){a[b]=this[b]},this),a},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),c.MakeObservable(c.prototype);var d=a.Gradient=function(b){a.Shape.call(this),this._renderer.type="gradient",this.spread="pad",this.stops=b};b.extend(d,{Stop:c,Properties:["spread"],MakeObservable:function(c){a.Shape.MakeObservable(c),b.each(d.Properties,a.Utils.defineProperty,c),Object.defineProperty(c,"stops",{enumerable:!0,get:function(){return this._stops},set:function(c){var e=b.bind(d.FlagStops,this),f=b.bind(function(b){for(var c=b.length;c--;)b[c].bind(a.Events.change,e);e()},this),g=b.bind(function(c){b.each(c,function(b){b.unbind(a.Events.change,e)},this),e()},this);this._stops&&this._stops.unbind(),this._stops=new a.Utils.Collection((c||[]).slice(0)),this._stops.bind(a.Events.insert,f),this._stops.bind(a.Events.remove,g),f(this._stops)}})},FlagStops:function(){this._flagStops=!0}}),b.extend(d.prototype,a.Shape.prototype,{clone:function(c){c=c||this.parent;var e=b.map(this.stops,function(a){return a.clone()}),f=new d(e);return b.each(a.Gradient.Properties,function(a){f[a]=this[a]},this),f.translation.copy(this.translation),f.rotation=this.rotation,f.scale=this.scale,c.add(f),f},toObject:function(){var a={stops:b.map(this.stops,function(a){return a.toObject()})};return b.each(d.Properties,function(b){a[b]=this[b]},this),a},flagReset:function(){return this._flagSpread=this._flagStops=!1,a.Shape.prototype.flagReset.call(this),this}}),d.MakeObservable(d.prototype)}(this.Two),function(a){var b=a.Utils,c=a.LinearGradient=function(d,e,f,g,h){a.Gradient.call(this,h),this._renderer.type="linear-gradient";var i=b.bind(c.FlagEndPoints,this);this.left=(new a.Vector).bind(a.Events.change,i),this.right=(new a.Vector).bind(a.Events.change,i),b.isNumber(d)&&(this.left.x=d),b.isNumber(e)&&(this.left.y=e),b.isNumber(f)&&(this.right.x=f),b.isNumber(g)&&(this.right.y=g)};b.extend(c,{Stop:a.Gradient.Stop,MakeObservable:function(b){a.Gradient.MakeObservable(b)},FlagEndPoints:function(){this._flagEndPoints=!0}}),b.extend(c.prototype,a.Gradient.prototype,{_flagEndPoints:!1,clone:function(d){d=d||this.parent;var e=b.map(this.stops,function(a){return a.clone()}),f=new c(this.left._x,this.left._y,this.right._x,this.right._y,e);return b.each(a.Gradient.Properties,function(a){f[a]=this[a]},this),d.add(f),f},toObject:function(){var b=a.Gradient.prototype.toObject.call(this);return b.left=this.left.toObject(),b.right=this.right.toObject(),b},flagReset:function(){return this._flagEndPoints=!1,a.Gradient.prototype.flagReset.call(this),this}}),c.MakeObservable(c.prototype)}(this.Two),function(a){var b=a.Utils,c=a.RadialGradient=function(c,d,e,f,g,h){a.Gradient.call(this,f),this._renderer.type="radial-gradient",this.center=(new a.Vector).bind(a.Events.change,b.bind(function(){this._flagCenter=!0},this)),this.radius=b.isNumber(e)?e:20,this.focal=(new a.Vector).bind(a.Events.change,b.bind(function(){this._flagFocal=!0},this)),b.isNumber(c)&&(this.center.x=c),b.isNumber(d)&&(this.center.y=d),this.focal.copy(this.center),b.isNumber(g)&&(this.focal.x=g),b.isNumber(h)&&(this.focal.y=h)};b.extend(c,{Stop:a.Gradient.Stop,Properties:["radius"],MakeObservable:function(d){a.Gradient.MakeObservable(d),b.each(c.Properties,a.Utils.defineProperty,d)}}),b.extend(c.prototype,a.Gradient.prototype,{_flagEndPoints:!1,clone:function(d){d=d||this.parent;var e=b.map(this.stops,function(a){return a.clone()}),f=new c(this.center._x,this.center._y,this._radius,e,this.focal._x,this.focal._y);return b.each(a.Gradient.Properties.concat(c.Properties),function(a){f[a]=this[a]},this),d.add(f),f},toObject:function(){var d=a.Gradient.prototype.toObject.call(this);return b.each(c.Properties,function(a){d[a]=this[a]},this),d.center=this.center.toObject(),d.focal=this.focal.toObject(),d},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,a.Gradient.prototype.flagReset.call(this),this}}),c.MakeObservable(c.prototype)}(this.Two),function(a){function b(a,b){var c,d=a.parent;return d===b?(this.additions.push(a),void(this._flagAdditions=!0)):(d&&d.children.ids[a.id]&&(c=e.indexOf(d.children,a),d.children.splice(c,1),c=e.indexOf(d.additions,a),c>=0?d.additions.splice(c,1):(d.subtractions.push(a),d._flagSubtractions=!0)),b?(a.parent=b,this.additions.push(a),void(this._flagAdditions=!0)):(c=e.indexOf(this.additions,a),c>=0?this.additions.splice(c,1):(this.subtractions.push(a),this._flagSubtractions=!0),void delete a.parent))}var c=Math.min,d=Math.max,e=a.Utils,f=function(){a.Utils.Collection.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.on(a.Events.insert,this.attach),this.on(a.Events.remove,this.detach),f.prototype.attach.apply(this,arguments)};f.prototype=new a.Utils.Collection,f.prototype.constructor=f,e.extend(f.prototype,{attach:function(a){for(var b=0;b<a.length;b++)this.ids[a[b].id]=a[b];return this},detach:function(a){for(var b=0;b<a.length;b++)delete this.ids[a[b].id];return this}});var g=a.Group=function(){a.Shape.call(this,!0),this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=arguments};e.extend(g,{Children:f,InsertChildren:function(a){for(var c=0;c<a.length;c++)b.call(this,a[c],this)},RemoveChildren:function(a){for(var c=0;c<a.length;c++)b.call(this,a[c])},OrderChildren:function(a){this._flagOrder=!0},MakeObservable:function(b){var c=a.Path.Properties.slice(0),d=e.indexOf(c,"opacity");d>=0&&(c.splice(d,1),Object.defineProperty(b,"opacity",{enumerable:!0,get:function(){return this._opacity},set:function(a){this._flagOpacity=this._opacity!=a,this._opacity=a}})),a.Shape.MakeObservable(b),g.MakeGetterSetters(b,c),Object.defineProperty(b,"children",{enumerable:!0,get:function(){return this._children},set:function(b){var c=e.bind(g.InsertChildren,this),d=e.bind(g.RemoveChildren,this),h=e.bind(g.OrderChildren,this);this._children&&this._children.unbind(),this._children=new f(b),this._children.bind(a.Events.insert,c),this._children.bind(a.Events.remove,d),this._children.bind(a.Events.order,h)}}),Object.defineProperty(b,"mask",{enumerable:!0,get:function(){return this._mask},set:function(a){this._mask=a,this._flagMask=!0,a.clip||(a.clip=!0)}})},MakeGetterSetters:function(a,b){e.isArray(b)||(b=[b]),e.each(b,function(b){g.MakeGetterSetter(a,b)})},MakeGetterSetter:function(a,b){var c="_"+b;Object.defineProperty(a,b,{enumerable:!0,get:function(){return this[c]},set:function(a){this[c]=a,e.each(this.children,function(c){c[b]=a})}})}}),e.extend(g.prototype,a.Shape.prototype,{_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_mask:null,clone:function(a){a=a||this.parent;var b=new g,c=e.map(this.children,function(a){return a.clone(b)});return b.add(c),b.opacity=this.opacity,this.mask&&(b.mask=this.mask),b.translation.copy(this.translation),b.rotation=this.rotation,b.scale=this.scale,a.add(b),b},toObject:function(){var a={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale,opacity:this.opacity,mask:this.mask?this.mask.toObject():null};return e.each(this.children,function(b,c){a.children[c]=b.toObject()},this),a},corner:function(){var a=this.getBoundingClientRect(!0),b={x:a.left,y:a.top};return this.children.forEach(function(a){a.translation.subSelf(b)}),this},center:function(){var a=this.getBoundingClientRect(!0);return a.centroid={x:a.left+a.width/2,y:a.top+a.height/2},this.children.forEach(function(b){b.translation.subSelf(a.centroid)}),this},getById:function(a){var b=function(a,c){if(a.id===c)return a;if(a.children)for(var d=a.children.length;d--;){var e=b(a.children[d],c);if(e)return e}};return b(this,a)||null},getByClassName:function(a){var b=[],c=function(a,d){return a.classList.indexOf(d)!=-1?b.push(a):a.children&&a.children.forEach(function(a){c(a,d)}),b};return c(this,a)},getByType:function(b){var c=[],d=function(b,e){for(var f in b.children)b.children[f]instanceof e?c.push(b.children[f]):b.children[f]instanceof a.Group&&d(b.children[f],e);return c};return d(this,b)},add:function(a){a=a instanceof Array?a.slice():e.toArray(arguments);for(var b=0;b<a.length;b++)a[b]&&a[b].id&&this.children.push(a[b]);return this},remove:function(a){var b=arguments.length,c=this.parent;if(b<=0&&c)return c.remove(this),this;a=a instanceof Array?a.slice():e.toArray(arguments);for(var d=0;d<a.length;d++)a[d]&&this.children.ids[a[d].id]&&this.children.splice(e.indexOf(this.children,a[d]),1);return this},getBoundingClientRect:function(a){var b;this._update(!0);var f=1/0,g=-(1/0),h=1/0,i=-(1/0);return this.children.forEach(function(j){/(linear-gradient|radial-gradient|gradient)/.test(j._renderer.type)||(b=j.getBoundingClientRect(a),e.isNumber(b.top)&&e.isNumber(b.left)&&e.isNumber(b.right)&&e.isNumber(b.bottom)&&(h=c(b.top,h),f=c(b.left,f),g=d(b.right,g),i=d(b.bottom,i)))},this),{top:h,left:f,right:g,bottom:i,width:g-f,height:i-h}},noFill:function(){return this.children.forEach(function(a){a.noFill()}),this},noStroke:function(){return this.children.forEach(function(a){a.noStroke()}),this},subdivide:function(){var a=arguments;return this.children.forEach(function(b){b.subdivide.apply(b,a)}),this},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=!1,a.Shape.prototype.flagReset.call(this),this}}),g.MakeObservable(g.prototype)}(this.Two);
